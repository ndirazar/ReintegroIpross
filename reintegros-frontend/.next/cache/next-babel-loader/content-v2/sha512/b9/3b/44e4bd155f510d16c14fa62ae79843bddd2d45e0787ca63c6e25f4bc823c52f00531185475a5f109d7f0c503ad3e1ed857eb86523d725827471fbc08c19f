{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\n// Third-party imports\nimport React, { useEffect, useState } from 'react';\n// Component\nexport default function FileInput(props) {\n  var _useState = useState(false),\n      clear = _useState[0],\n      setClear = _useState[1];\n\n  var _useState2 = useState(''),\n      fileName = _useState2[0],\n      setFileName = _useState2[1];\n\n  var _useState3 = useState(null),\n      fileContent = _useState3[0],\n      setFileContent = _useState3[1];\n\n  var changeHandler = function changeHandler(event) {\n    var target = event.target;\n    setClear(false);\n\n    try {\n      if (!props.multiple) {\n        var reader = new FileReader();\n        var file = target.files[0];\n        setFileName(file.name);\n\n        reader.onload = function () {\n          props.onReadData && props.onReadData({\n            result: reader.result.toString(),\n            file: file\n          });\n        };\n\n        setFileContent(file);\n        reader.readAsText(file);\n      } else {\n        var faux = [];\n        Array.from(target.files).forEach(function (file) {\n          var reader = new FileReader();\n\n          reader.onload = function () {\n            props.onReadData && props.onReadData({\n              result: reader.result.toString(),\n              file: file\n            });\n          };\n\n          reader.readAsText(file);\n          faux.push(file);\n        });\n        setFileContent(faux);\n      }\n    } catch (e) {//TODO some thing\n    }\n  };\n\n  var removeFile = function removeFile() {\n    setFileName(null);\n    setFileContent(null);\n    setClear(true);\n    props.onRemove && props.onRemove();\n  };\n\n  useEffect(function () {\n    if (props.previousFile && !fileName && !clear) {\n      setFileName(props.previousFile);\n    }\n  }, [props]);\n  useEffect(function () {\n    if (fileContent && fileContent !== '') {\n      props.onChange && props.onChange(fileContent);\n    }\n  }, [fileContent]);\n  return /*#__PURE__*/_jsx(\"span\", {\n    children: /*#__PURE__*/_jsx(\"input\", {\n      accept: props.accept,\n      id: \"file-input\",\n      multiple: props.multiple,\n      type: \"file\",\n      onChange: changeHandler\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}