{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/reintegros/reintegros-frontend/components/users/UsersList.tsx\";\nimport { Switch } from '@material-ui/core';\nimport React from 'react';\nimport { USERS } from '../../labels';\nimport Table from '../common/Table';\nimport SelectGroups from './SelectGroups';\nimport SelectDelegacion from './SelectDelegacion';\nexport default function UsersList({\n  data,\n  delegaciones,\n  grupos,\n  onUserDeactivate,\n  onhandleSetGroups,\n  onhandleSetDelegaciones\n}) {\n  const onSetUserGroups = async (groupsSelected, userId) => {\n    let result = [];\n\n    if (grupos !== undefined) {\n      groupsSelected.forEach(groupSelected => {\n        let grupo = grupos.results.find(grupo => grupo.name === groupSelected);\n        result.push(grupo.id);\n      });\n      onhandleSetGroups(result, userId);\n    }\n  };\n\n  const onSetDelegaciones = (delegacionesSelected, userId) => {\n    let result = [];\n\n    if (delegaciones !== undefined) {\n      delegacionesSelected.forEach(delegacionSelected => {\n        let delegacion = delegaciones.results.find(delegacion => delegacion.nombre === delegacionSelected);\n        result.push(delegacion.id);\n      });\n      onhandleSetDelegaciones(result, userId);\n    }\n  };\n\n  const dynamicRenders = {\n    is_active: rowData => {\n      return /*#__PURE__*/_jsxDEV(Switch, {\n        checked: rowData.is_active === true,\n        onChange: () => onUserDeactivate(rowData === null || rowData === void 0 ? void 0 : rowData.id, rowData.is_active),\n        name: rowData.id,\n        color: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this);\n    },\n    groups: rowData => {\n      return /*#__PURE__*/_jsxDEV(SelectGroups, {\n        grupos: grupos,\n        rowData: rowData,\n        onSetUserGroups: onSetUserGroups\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 14\n      }, this);\n    },\n    delegaciones: rowData => {\n      return /*#__PURE__*/_jsxDEV(SelectDelegacion, {\n        delegaciones: delegaciones,\n        rowData: rowData,\n        onSetDelegaciones: onSetDelegaciones\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this);\n    }\n  };\n  const columns = Object.keys(USERS.fields).map(key => {\n    var _ref, _dynamicRenders$key;\n\n    return {\n      title: USERS.fields[key],\n      field: key,\n      render: (_ref = (_dynamicRenders$key = dynamicRenders[key]) !== null && _dynamicRenders$key !== void 0 ? _dynamicRenders$key : USERS.renders[key]) !== null && _ref !== void 0 ? _ref : null\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(Table, {\n    columns: columns,\n    totalCount: data.count,\n    data: data.results,\n    title: USERS.name,\n    options: {\n      actionsColumnIndex: -1,\n      search: false\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"sources":["/reintegros/reintegros-frontend/components/users/UsersList.tsx"],"names":["Switch","React","USERS","Table","SelectGroups","SelectDelegacion","UsersList","data","delegaciones","grupos","onUserDeactivate","onhandleSetGroups","onhandleSetDelegaciones","onSetUserGroups","groupsSelected","userId","result","undefined","forEach","groupSelected","grupo","results","find","name","push","id","onSetDelegaciones","delegacionesSelected","delegacionSelected","delegacion","nombre","dynamicRenders","is_active","rowData","groups","columns","Object","keys","fields","map","key","title","field","render","renders","count","actionsColumnIndex","search"],"mappings":"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","sourcesContent":["import { Switch } from '@material-ui/core';\nimport React from 'react';\nimport { USERS } from '../../labels';\nimport Table from '../common/Table';\nimport SelectGroups from './SelectGroups';\nimport SelectDelegacion from './SelectDelegacion';\nimport { apiRequest } from '../common/types/Request';\n\ntype Props = {\n  //TODO type this according Django response\n  data: apiRequest;\n  onUserDeactivate: (id: number, state: boolean) => void;\n  grupos: apiRequest;\n  delegaciones: apiRequest;\n  onhandleSetGroups: (groupsSelected: string[], userId: number) => void;\n  onhandleSetDelegaciones: (delegacionesSelected: string[], userId: number) => void;\n};\nexport default function UsersList({\n  data,\n  delegaciones,\n  grupos,\n  onUserDeactivate,\n  onhandleSetGroups,\n  onhandleSetDelegaciones,\n}: Props) {\n  const onSetUserGroups = async (groupsSelected: string[], userId: number) => {\n    let result: string[] = [];\n    if (grupos !== undefined) {\n      groupsSelected.forEach((groupSelected) => {\n        let grupo = grupos.results.find((grupo) => grupo.name === groupSelected);\n        result.push(grupo.id);\n      });\n      onhandleSetGroups(result, userId);\n    }\n  };\n\n  const onSetDelegaciones = (delegacionesSelected: string[], userId: number) => {\n    let result: string[] = [];\n    if (delegaciones !== undefined) {\n      delegacionesSelected.forEach((delegacionSelected) => {\n        let delegacion = delegaciones.results.find(\n          (delegacion) => delegacion.nombre === delegacionSelected,\n        );\n        result.push(delegacion.id);\n      });\n      onhandleSetDelegaciones(result, userId);\n    }\n  };\n\n  const dynamicRenders = {\n    is_active: (rowData) => {\n      return (\n        <Switch\n          checked={rowData.is_active === true}\n          onChange={() => onUserDeactivate(rowData?.id, rowData.is_active)}\n          name={rowData.id}\n          color=\"primary\"\n        />\n      );\n    },\n    groups: (rowData) => {\n      return <SelectGroups grupos={grupos} rowData={rowData} onSetUserGroups={onSetUserGroups} />;\n    },\n    delegaciones: (rowData) => {\n      return (\n        <SelectDelegacion\n          delegaciones={delegaciones}\n          rowData={rowData}\n          onSetDelegaciones={onSetDelegaciones}\n        />\n      );\n    },\n  };\n\n  const columns = Object.keys(USERS.fields).map((key) => ({\n    title: USERS.fields[key],\n    field: key,\n    render: dynamicRenders[key] ?? USERS.renders[key] ?? null,\n  }));\n\n  return (\n    <Table\n      columns={columns}\n      totalCount={data.count}\n      data={data.results}\n      title={USERS.name}\n      options={{\n        actionsColumnIndex: -1,\n        search: false,\n      }}\n    />\n  );\n}\n"]},"metadata":{},"sourceType":"module"}