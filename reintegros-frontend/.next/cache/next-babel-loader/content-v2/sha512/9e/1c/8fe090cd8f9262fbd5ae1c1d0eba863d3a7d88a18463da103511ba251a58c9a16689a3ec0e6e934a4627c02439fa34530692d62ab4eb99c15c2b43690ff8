{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/reintegros/reintegros-frontend/components/solicitudes/Stepper.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { useFormContext } from 'react-hook-form';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Button from '@material-ui/core/Button';\nimport _ from 'lodash';\nimport Typography from '@material-ui/core/Typography';\nimport { format, parseISO } from 'date-fns';\nimport { get, post, send } from '../api-call/service';\nimport { NOMENCLADOR, PRESTADORES, SOLICITUDES, STEPPER_SOLICITUDES } from '../../labels';\nimport useStyles from './Stepper.styles';\nimport { Box } from '@material-ui/core';\nimport { FormSolicitud } from './FormSolicitud';\nimport { FormPrestaciones } from './prestaciones/FormPrestaciones';\nimport { FormAdjuntos } from './adjuntos/FormAdjuntos';\nimport SolicitudesSummary from './SolicitudesSummary';\nimport Alert from '../common/Alert';\nimport Loading from '../common/Loading';\nexport const FormStepper = ({\n  setShowStepper,\n  onFinished\n}) => {\n  const {\n    watch,\n    errors,\n    trigger,\n    setError\n  } = useFormContext();\n  const [activeStep, setActiveStep] = React.useState(0);\n  const [compiledForm, setCompiledForm] = React.useState({});\n  const steps = STEPPER_SOLICITUDES.steps.map(elem => elem.title);\n  const form = watch();\n  const [prestaciones, setPrestaciones] = React.useState([]);\n  const [solicitud, setSolicitud] = React.useState(null);\n  const [stepError, setStepError] = React.useState(null);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [idSolicitud, setIdSolicitud] = React.useState(null);\n  const classes = useStyles();\n\n  const addPrestacion = async () => {\n    var _form$prestador, _await$get, _form$nomenclador, _form$capitulo;\n\n    form.fechaPractica = format(form === null || form === void 0 ? void 0 : form.fechaPractica, 'yyyy-MM-dd');\n\n    if (form !== null && form !== void 0 && form.fechaPracticaHasta) {\n      form.fechaPracticaHasta = format(form === null || form === void 0 ? void 0 : form.fechaPracticaHasta, 'yyyy-MM-dd');\n    }\n\n    form.cobertura = parseInt(form.cobertura);\n    let _prestaciones = prestaciones;\n\n    if (form.capitulo === 40 || form.capitulo === 41 || form.capitulo === 43) {\n      _prestaciones = _prestaciones.map(p => {\n        console.log({\n          p\n        });\n\n        if (p.capitulo !== 40 && p.capitulo !== 41 && p.capitulo !== 43) {\n          p.cobertura = 100;\n        } else {\n          p.cobertura = 90;\n        }\n\n        return p;\n      });\n    }\n\n    const prestadorID = ((_form$prestador = form.prestador) === null || _form$prestador === void 0 ? void 0 : _form$prestador.value) || form.prestador;\n    form.prestador = (_await$get = await get(`${PRESTADORES.route}/${prestadorID}/`)) === null || _await$get === void 0 ? void 0 : _await$get.data;\n    const nomencladorID = ((_form$nomenclador = form.nomenclador) === null || _form$nomenclador === void 0 ? void 0 : _form$nomenclador.value) || form.nomenclador;\n    const nomenclador = await get(`${NOMENCLADOR.route}/${nomencladorID}/`);\n    form.capitulo = ((_form$capitulo = form.capitulo) === null || _form$capitulo === void 0 ? void 0 : _form$capitulo.value) || form.capitulo;\n    form.nomenclador = nomencladorID;\n    setPrestaciones([..._prestaciones, _objectSpread(_objectSpread({}, form), {}, {\n      item: nomenclador === null || nomenclador === void 0 ? void 0 : nomenclador.data\n    })]);\n  };\n\n  const removePrestacion = id => {\n    setPrestaciones([...prestaciones.filter((_, index) => index !== id)]);\n  };\n\n  const getStepContent = (step, formContent) => {\n    switch (step) {\n      case 0:\n        return /*#__PURE__*/_jsxDEV(FormSolicitud, _objectSpread(_objectSpread({}, {\n          formContent\n        }), {}, {\n          step: STEPPER_SOLICITUDES.steps[step]\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 16\n        }, this);\n\n      case 1:\n        return /*#__PURE__*/_jsxDEV(FormPrestaciones, _objectSpread(_objectSpread({}, {\n          formContent\n        }), {}, {\n          step: STEPPER_SOLICITUDES.steps[step],\n          addPrestacion: addPrestacion,\n          prestaciones: prestaciones,\n          removePrestacion: removePrestacion\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this);\n\n      case 2:\n        return /*#__PURE__*/_jsxDEV(SolicitudesSummary, {\n          solicitud: solicitud,\n          prestaciones: prestaciones,\n          header: true,\n          step: STEPPER_SOLICITUDES.steps[step],\n          form: compiledForm\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this);\n\n      case 3:\n        return /*#__PURE__*/_jsxDEV(FormAdjuntos, {\n          prestaciones: prestaciones,\n          step: STEPPER_SOLICITUDES.steps[step]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 16\n        }, this);\n\n      default:\n        return 'Unknown step';\n    }\n  };\n\n  const handleNext = async () => {\n    let canContinue = false;\n    setStepError(null);\n    const result = await trigger();\n\n    if (!result) {\n      return;\n    }\n\n    switch (activeStep) {\n      case 0:\n        setCompiledForm(_objectSpread(_objectSpread({}, compiledForm), {}, {\n          solicitud: form\n        }));\n        setSolicitud(_objectSpread({}, form)); // if (!form.factura) {\n        //   return setStepError('No hay factura asociada');\n        // }\n\n        canContinue = true;\n        break;\n\n      case 1:\n        if ((prestaciones === null || prestaciones === void 0 ? void 0 : prestaciones.length) > 0) {\n          setCompiledForm(_objectSpread(_objectSpread({}, compiledForm), {}, {\n            prestaciones: prestaciones\n          }));\n          canContinue = true;\n        } else {\n          setStepError('No hay prestaciones cargadas');\n        }\n\n        break;\n\n      case 2:\n        setCompiledForm(_objectSpread(_objectSpread({}, compiledForm), {}, {\n          three: form\n        }));\n        canContinue = await handleSubmit(_objectSpread(_objectSpread({}, compiledForm), {}, {\n          three: form\n        }));\n        break;\n\n      case 3:\n        canContinue = true;\n        break;\n\n      default:\n        return 'not a valid step';\n    }\n\n    if (canContinue) {\n      window.scrollTo(0, 0);\n      setActiveStep(prevActiveStep => prevActiveStep + 1);\n    }\n  };\n\n  const handleBack = () => {\n    if (activeStep > 0) {\n      setActiveStep(prevActiveStep => prevActiveStep - 1);\n\n      switch (activeStep) {\n        case 1:\n          setCompiledForm(_objectSpread({}, compiledForm));\n          break;\n\n        case 2:\n          setCompiledForm(_objectSpread(_objectSpread({}, compiledForm), {}, {\n            prestaciones: form\n          }));\n          break;\n\n        default:\n          return 'not a valid step';\n      }\n    } else {\n      setShowStepper(false);\n    }\n  };\n\n  const handleReset = () => {\n    setActiveStep(0);\n    setCompiledForm({});\n    setPrestaciones(null);\n    setSolicitud(null);\n    setShowStepper(false);\n  };\n\n  const handleSubmit = async form => {\n    if (_.isEmpty(errors)) {\n      var _form$solicitud, _form$solicitud2, _form$solicitud3, _form$solicitud$afili;\n\n      setIsLoading(true);\n      const date = typeof (form === null || form === void 0 ? void 0 : (_form$solicitud = form.solicitud) === null || _form$solicitud === void 0 ? void 0 : _form$solicitud.fechaAlta) === 'string' ? parseISO(form === null || form === void 0 ? void 0 : (_form$solicitud2 = form.solicitud) === null || _form$solicitud2 === void 0 ? void 0 : _form$solicitud2.fechaAlta) : form === null || form === void 0 ? void 0 : (_form$solicitud3 = form.solicitud) === null || _form$solicitud3 === void 0 ? void 0 : _form$solicitud3.fechaAlta;\n      form.solicitud.afiliado = ((_form$solicitud$afili = form.solicitud.afiliado) === null || _form$solicitud$afili === void 0 ? void 0 : _form$solicitud$afili.id) || form.solicitud.afiliado;\n      form.solicitud.estadoActual = 'sinPagos';\n\n      try {\n        var _solicitud$data, _solicitud$data2;\n\n        //Remove the key used for show prestaciones list on step 2 before send to server\n        const presAux = prestaciones.map(elem => {\n          const aux = _objectSpread(_objectSpread({}, elem), {}, {\n            prestador: elem.prestador.id\n          });\n\n          delete aux.item;\n          return aux;\n        });\n        const formData = new FormData();\n        formData.append('archivo', form.solicitud.factura[0]);\n        formData.append('etiqueta', '1');\n        const resFactura = await send({\n          url: 'api/facturas/',\n          data: formData,\n          method: 'POST',\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n        const solicitud = await post(SOLICITUDES.route, {\n          solicitud: _objectSpread(_objectSpread({}, form.solicitud), {}, {\n            factura: resFactura.data.id\n          }),\n          prestaciones: presAux\n        });\n        setIdSolicitud(solicitud === null || solicitud === void 0 ? void 0 : (_solicitud$data = solicitud.data) === null || _solicitud$data === void 0 ? void 0 : _solicitud$data.id);\n        setPrestaciones([...(solicitud === null || solicitud === void 0 ? void 0 : (_solicitud$data2 = solicitud.data) === null || _solicitud$data2 === void 0 ? void 0 : _solicitud$data2.prestaciones.map(p => _objectSpread(_objectSpread({}, p), {}, {\n          item: p.nomenclador\n        })))]);\n        onFinished();\n        setIsLoading(false);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    }\n\n    return false;\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Stepper, {\n      activeStep: activeStep,\n      children: steps.map((label, index) => {\n        const stepProps = {};\n        const labelProps = {};\n        return /*#__PURE__*/_jsxDEV(Step, _objectSpread(_objectSpread({}, stepProps), {}, {\n          children: /*#__PURE__*/_jsxDEV(StepLabel, _objectSpread(_objectSpread({}, labelProps), {}, {\n            className: classes.stepLabel,\n            children: label\n          }), void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this)\n        }), label, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      className: classes.formContainer,\n      children: activeStep === steps.length ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            style: {\n              margin: '15px 0'\n            },\n            children: [STEPPER_SOLICITUDES.end, \" \", idSolicitud]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            children: STEPPER_SOLICITUDES.end2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              marginTop: 35\n            },\n            onClick: handleReset,\n            color: \"primary\",\n            variant: \"contained\",\n            children: STEPPER_SOLICITUDES.close\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [getStepContent(activeStep, compiledForm), /*#__PURE__*/_jsxDEV(Box, {\n          className: classes.stepperButtons,\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleBack,\n            className: classes.button,\n            color: \"secondary\",\n            variant: \"contained\",\n            children: activeStep === 0 ? STEPPER_SOLICITUDES.cancel : STEPPER_SOLICITUDES.back\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            className: classes.buttonNext,\n            color: \"primary\",\n            onClick: handleNext,\n            children: activeStep === steps.length - 1 ? STEPPER_SOLICITUDES.finish : STEPPER_SOLICITUDES.next\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Loading, {\n      loading: isLoading,\n      message: 'Guardando solicitud...'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Alert, {\n      open: !!stepError,\n      severity: 'error',\n      message: stepError,\n      autoHideAfter: 5500,\n      onClose: () => {\n        setStepError(null);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};","map":{"version":3,"sources":["/reintegros/reintegros-frontend/components/solicitudes/Stepper.tsx"],"names":["React","useFormContext","Stepper","Step","StepLabel","Button","_","Typography","format","parseISO","get","post","send","NOMENCLADOR","PRESTADORES","SOLICITUDES","STEPPER_SOLICITUDES","useStyles","Box","FormSolicitud","FormPrestaciones","FormAdjuntos","SolicitudesSummary","Alert","Loading","FormStepper","setShowStepper","onFinished","watch","errors","trigger","setError","activeStep","setActiveStep","useState","compiledForm","setCompiledForm","steps","map","elem","title","form","prestaciones","setPrestaciones","solicitud","setSolicitud","stepError","setStepError","isLoading","setIsLoading","idSolicitud","setIdSolicitud","classes","addPrestacion","fechaPractica","fechaPracticaHasta","cobertura","parseInt","_prestaciones","capitulo","p","console","log","prestadorID","prestador","value","route","data","nomencladorID","nomenclador","item","removePrestacion","id","filter","index","getStepContent","step","formContent","handleNext","canContinue","result","length","three","handleSubmit","window","scrollTo","prevActiveStep","handleBack","handleReset","isEmpty","date","fechaAlta","afiliado","estadoActual","presAux","aux","formData","FormData","append","factura","resFactura","url","method","headers","error","label","stepProps","labelProps","stepLabel","formContainer","textAlign","margin","end","end2","marginTop","close","stepperButtons","button","cancel","back","buttonNext","finish","next"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useFormContext } from 'react-hook-form';\nimport Stepper from '@material-ui/core/Stepper';\nimport Step from '@material-ui/core/Step';\nimport StepLabel from '@material-ui/core/StepLabel';\nimport Button from '@material-ui/core/Button';\nimport _ from 'lodash';\nimport Typography from '@material-ui/core/Typography';\nimport { format, parseISO } from 'date-fns';\nimport { get, post, send } from '../api-call/service';\nimport { NOMENCLADOR, PRESTADORES, SOLICITUDES, STEPPER_SOLICITUDES } from '../../labels';\nimport useStyles from './Stepper.styles';\nimport { Box } from '@material-ui/core';\nimport { FormSolicitud } from './FormSolicitud';\nimport { FormPrestaciones } from './prestaciones/FormPrestaciones';\nimport { FormAdjuntos } from './adjuntos/FormAdjuntos';\nimport SolicitudesSummary from './SolicitudesSummary';\nimport Alert from '../common/Alert';\nimport Loading from '../common/Loading';\n\nexport const FormStepper = ({ setShowStepper, onFinished }) => {\n  const { watch, errors, trigger, setError } = useFormContext();\n  const [activeStep, setActiveStep] = React.useState(0);\n  const [compiledForm, setCompiledForm] = React.useState({});\n  const steps = STEPPER_SOLICITUDES.steps.map((elem) => elem.title);\n  const form = watch();\n  const [prestaciones, setPrestaciones] = React.useState([]);\n  const [solicitud, setSolicitud] = React.useState(null);\n  const [stepError, setStepError] = React.useState(null);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [idSolicitud, setIdSolicitud] = React.useState(null);\n\n  const classes = useStyles();\n\n  const addPrestacion = async () => {\n    form.fechaPractica = format(form?.fechaPractica, 'yyyy-MM-dd');\n    if (form?.fechaPracticaHasta) {\n      form.fechaPracticaHasta = format(form?.fechaPracticaHasta, 'yyyy-MM-dd');\n    }\n    form.cobertura = parseInt(form.cobertura);\n\n    let _prestaciones = prestaciones;\n    if (form.capitulo === 40 || form.capitulo === 41 || form.capitulo === 43) {\n      _prestaciones = _prestaciones.map((p) => {\n        console.log({ p });\n        if (p.capitulo !== 40 && p.capitulo !== 41 && p.capitulo !== 43) {\n          p.cobertura = 100;\n        } else {\n          p.cobertura = 90;\n        }\n        return p;\n      });\n    }\n    const prestadorID = form.prestador?.value || form.prestador;\n    form.prestador = (await get(`${PRESTADORES.route}/${prestadorID}/`))?.data;\n    const nomencladorID = form.nomenclador?.value || form.nomenclador;\n    const nomenclador = await get(`${NOMENCLADOR.route}/${nomencladorID}/`);\n    form.capitulo = form.capitulo?.value || form.capitulo;\n    form.nomenclador = nomencladorID;\n\n    setPrestaciones([..._prestaciones, { ...form, item: nomenclador?.data }]);\n  };\n\n  const removePrestacion = (id) => {\n    setPrestaciones([...prestaciones.filter((_, index) => index !== id)]);\n  };\n\n  const getStepContent = (step, formContent) => {\n    switch (step) {\n      case 0:\n        return <FormSolicitud {...{ formContent }} step={STEPPER_SOLICITUDES.steps[step]} />;\n      case 1:\n        return (\n          <FormPrestaciones\n            {...{ formContent }}\n            step={STEPPER_SOLICITUDES.steps[step]}\n            addPrestacion={addPrestacion}\n            prestaciones={prestaciones}\n            removePrestacion={removePrestacion}\n          />\n        );\n      case 2:\n        return (\n          <SolicitudesSummary\n            solicitud={solicitud}\n            prestaciones={prestaciones}\n            header={true}\n            step={STEPPER_SOLICITUDES.steps[step]}\n            form={compiledForm}\n          />\n        );\n      case 3:\n        return <FormAdjuntos prestaciones={prestaciones} step={STEPPER_SOLICITUDES.steps[step]} />;\n\n      default:\n        return 'Unknown step';\n    }\n  };\n\n  const handleNext = async () => {\n    let canContinue = false;\n    setStepError(null);\n\n    const result = await trigger();\n    if (!result) {\n      return;\n    }\n\n    switch (activeStep) {\n      case 0:\n        setCompiledForm({ ...compiledForm, solicitud: form });\n        setSolicitud({ ...form });\n        // if (!form.factura) {\n        //   return setStepError('No hay factura asociada');\n        // }\n        canContinue = true;\n        break;\n      case 1:\n        if (prestaciones?.length > 0) {\n          setCompiledForm({ ...compiledForm, prestaciones: prestaciones });\n          canContinue = true;\n        } else {\n          setStepError('No hay prestaciones cargadas');\n        }\n        break;\n      case 2:\n        setCompiledForm({ ...compiledForm, three: form });\n        canContinue = await handleSubmit({ ...compiledForm, three: form });\n        break;\n      case 3:\n        canContinue = true;\n        break;\n      default:\n        return 'not a valid step';\n    }\n    if (canContinue) {\n      window.scrollTo(0, 0);\n      setActiveStep((prevActiveStep) => prevActiveStep + 1);\n    }\n  };\n\n  const handleBack = () => {\n    if (activeStep > 0) {\n      setActiveStep((prevActiveStep) => prevActiveStep - 1);\n      switch (activeStep) {\n        case 1:\n          setCompiledForm({ ...compiledForm });\n          break;\n        case 2:\n          setCompiledForm({ ...compiledForm, prestaciones: form });\n          break;\n        default:\n          return 'not a valid step';\n      }\n    } else {\n      setShowStepper(false);\n    }\n  };\n\n  const handleReset = () => {\n    setActiveStep(0);\n    setCompiledForm({});\n    setPrestaciones(null);\n    setSolicitud(null);\n    setShowStepper(false);\n  };\n\n  const handleSubmit = async (form) => {\n    if (_.isEmpty(errors)) {\n      setIsLoading(true);\n      const date =\n        typeof form?.solicitud?.fechaAlta === 'string'\n          ? parseISO(form?.solicitud?.fechaAlta)\n          : form?.solicitud?.fechaAlta;\n      form.solicitud.afiliado = form.solicitud.afiliado?.id || form.solicitud.afiliado;\n      form.solicitud.estadoActual = 'sinPagos';\n      try {\n        //Remove the key used for show prestaciones list on step 2 before send to server\n        const presAux = prestaciones.map((elem) => {\n          const aux = { ...elem, prestador: elem.prestador.id };\n          delete aux.item;\n          return aux;\n        });\n\n        const formData = new FormData();\n        formData.append('archivo', form.solicitud.factura[0]);\n        formData.append('etiqueta', '1');\n\n        const resFactura = await send({\n          url: 'api/facturas/',\n          data: formData,\n          method: 'POST',\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        });\n\n        const solicitud = await post(SOLICITUDES.route, {\n          solicitud: { ...form.solicitud, factura: resFactura.data.id },\n          prestaciones: presAux,\n        });\n\n        setIdSolicitud(solicitud?.data?.id);\n\n        setPrestaciones([\n          ...solicitud?.data?.prestaciones.map((p) => ({ ...p, item: p.nomenclador })),\n        ]);\n        onFinished();\n        setIsLoading(false);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    }\n    return false;\n  };\n\n  return (\n    <>\n      <Stepper activeStep={activeStep}>\n        {steps.map((label, index) => {\n          const stepProps = {};\n          const labelProps = {};\n          return (\n            <Step key={label} {...stepProps}>\n              <StepLabel {...labelProps} className={classes.stepLabel}>\n                {label}\n              </StepLabel>\n            </Step>\n          );\n        })}\n      </Stepper>\n      <Box className={classes.formContainer}>\n        {activeStep === steps.length ? (\n          <>\n            <div style={{ textAlign: 'center' }}>\n              <Typography style={{ margin: '15px 0' }}>\n                {STEPPER_SOLICITUDES.end} {idSolicitud}\n              </Typography>\n              <Typography>{STEPPER_SOLICITUDES.end2}</Typography>\n              <Button\n                style={{ marginTop: 35 }}\n                onClick={handleReset}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                {STEPPER_SOLICITUDES.close}\n              </Button>\n            </div>\n          </>\n        ) : (\n          <>\n            {getStepContent(activeStep, compiledForm)}\n            <Box className={classes.stepperButtons}>\n              <Button\n                onClick={handleBack}\n                className={classes.button}\n                color=\"secondary\"\n                variant=\"contained\"\n              >\n                {activeStep === 0 ? STEPPER_SOLICITUDES.cancel : STEPPER_SOLICITUDES.back}\n              </Button>\n              <Button\n                variant=\"contained\"\n                className={classes.buttonNext}\n                color=\"primary\"\n                onClick={handleNext}\n              >\n                {activeStep === steps.length - 1\n                  ? STEPPER_SOLICITUDES.finish\n                  : STEPPER_SOLICITUDES.next}\n              </Button>\n            </Box>\n          </>\n        )}\n      </Box>\n      <Loading loading={isLoading} message={'Guardando solicitud...'} />\n      <Alert\n        open={!!stepError}\n        severity={'error'}\n        message={stepError}\n        autoHideAfter={5500}\n        onClose={() => {\n          setStepError(null);\n        }}\n      />\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}