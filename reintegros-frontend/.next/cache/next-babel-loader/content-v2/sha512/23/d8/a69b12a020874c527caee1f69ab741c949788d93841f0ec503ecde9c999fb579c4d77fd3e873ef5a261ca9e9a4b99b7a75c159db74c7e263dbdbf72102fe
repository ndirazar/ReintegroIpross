{"ast":null,"code":"import _defineProperty from \"/reintegros/reintegros-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/reintegros/reintegros-frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/reintegros/reintegros-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Delete, Edit } from '@material-ui/icons';\nimport React, { useState } from 'react';\nimport { ACTIONS, PRESTADORES } from '../../labels';\nimport Table from '../common/Table';\nimport SaveIcon from '@material-ui/icons/Save';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport { isUserAdmin } from '../common/helpers';\nexport default function PrestadoresList(_ref) {\n  var data = _ref.data,\n      handleDelete = _ref.handleDelete,\n      onEdit = _ref.onEdit,\n      onCreate = _ref.onCreate,\n      onPaginationChange = _ref.onPaginationChange,\n      onImport = _ref.onImport;\n  var columns = Object.keys(PRESTADORES.cols).map(function (key) {\n    var _PRESTADORES$renders$;\n\n    return {\n      title: PRESTADORES.cols[key],\n      field: key,\n      render: (_PRESTADORES$renders$ = PRESTADORES.renders[key]) !== null && _PRESTADORES$renders$ !== void 0 ? _PRESTADORES$renders$ : null\n    };\n  });\n\n  var _useState = useState({\n    page: 1,\n    pageSize: 20\n  }),\n      pagination = _useState[0],\n      setPagination = _useState[1];\n\n  var getHeaderAction = function getHeaderAction() {\n    var actions = [];\n\n    if (isUserAdmin()) {\n      actions = [{\n        label: PRESTADORES.addPrestador,\n        onClick: onCreate,\n        icon: /*#__PURE__*/_jsx(SaveIcon, {})\n      }, {\n        label: PRESTADORES[\"import\"],\n        onClick: onImport,\n        icon: /*#__PURE__*/_jsx(ArrowDownwardIcon, {})\n      }];\n    }\n\n    return actions;\n  };\n\n  var getActions = function getActions() {\n    var actions = [];\n\n    if (isUserAdmin()) {\n      actions = [{\n        icon: function icon() {\n          return /*#__PURE__*/_jsx(Edit, {});\n        },\n        tooltip: ACTIONS.update(PRESTADORES.name),\n        onClick: function onClick(event, rowData) {\n          onEdit(rowData);\n        }\n      }, {\n        icon: function icon() {\n          return /*#__PURE__*/_jsx(Delete, {});\n        },\n        tooltip: ACTIONS[\"delete\"](PRESTADORES.name),\n        onClick: function () {\n          var _onClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event, rowData) {\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    handleDelete(rowData === null || rowData === void 0 ? void 0 : rowData.id);\n\n                  case 1:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n\n          function onClick(_x, _x2) {\n            return _onClick.apply(this, arguments);\n          }\n\n          return onClick;\n        }()\n      }];\n    }\n\n    return actions;\n  };\n\n  var reloadPagination = function reloadPagination(pagData) {\n    setPagination(pagData);\n    onPaginationChange(_objectSpread(_objectSpread({}, pagination), pagData));\n  };\n\n  return /*#__PURE__*/_jsx(Table, {\n    columns: columns,\n    totalCount: data === null || data === void 0 ? void 0 : data.count,\n    data: data === null || data === void 0 ? void 0 : data.results,\n    title: PRESTADORES.name,\n    headerActions: getHeaderAction(),\n    options: {\n      search: false\n    },\n    pagination: {\n      page: pagination.page - 1,\n      pageSize: pagination.pageSize\n    },\n    onPageChange: function onPageChange(page, pageSize) {\n      reloadPagination(_objectSpread(_objectSpread({}, pagination), {}, {\n        page: page + 1,\n        pageSize: pageSize\n      }));\n    },\n    onChangeRowsPerPage: function onChangeRowsPerPage(pageSize) {\n      reloadPagination(_objectSpread(_objectSpread({}, pagination), {}, {\n        pageSize: pageSize\n      }));\n    },\n    actions: getActions()\n  });\n}","map":null,"metadata":{},"sourceType":"module"}