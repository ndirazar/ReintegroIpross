{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/reintegros/reintegros-frontend/components/cuentas/judiciales/CuentasJudiciales.tsx\";\nimport React, { useState } from 'react';\nimport { Box } from '@material-ui/core';\nimport useSWR from 'swr';\nimport SaveIcon from '@material-ui/icons/Save';\nimport ActionBar from '../../common/ActionBar';\nimport { ACTIONS, ERRORS, LOADING, CUENTAS_JUDICIALES } from '../../../labels';\nimport CuentasJudicialesList from './CuentasJudicialesList';\nimport CuentasJudicialesForm from './CuentasJudicialesForm';\nimport { remove, send } from '../../api-call/service';\nimport Alert from '../../common/Alert';\nimport Loading from '../../common/Loading';\nexport default function CuentasJudiciales() {\n  const {\n    data,\n    error: errotOnGet,\n    mutate\n  } = useSWR(`api/${CUENTAS_JUDICIALES.route}/`);\n  const {\n    0: openForm,\n    1: setOpenForm\n  } = useState(false);\n  const {\n    0: currentData,\n    1: setCurrentData\n  } = useState(null);\n  const {\n    0: error,\n    1: setError\n  } = useState(null);\n  const cuentasactions = [{\n    label: ACTIONS.crete(CUENTAS_JUDICIALES.name),\n    onClick: () => {\n      setCurrentData({});\n      setOpenForm(!openForm);\n    },\n    icon: /*#__PURE__*/_jsxDEV(SaveIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this)\n  }];\n\n  const handleSubmit = async data => {\n    const formData = new FormData();\n    formData.append('delegacion', data.delegacion);\n    formData.append('responsableDeCarga', data.responsableDeCarga);\n    formData.append('oficioJudicial', data.oficioJudicial);\n    formData.append('informacionAdicional', data.informacionAdicional);\n\n    try {\n      if (currentData !== null && currentData !== void 0 && currentData.id) {\n        // await put(`api/${CUENTAS_JUDICIALES.route}`, { ...data }, currentData?.id);\n        await send({\n          url: `api/${CUENTAS_JUDICIALES.route}/`,\n          data: formData,\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n      } else {\n        // await post(`api/${CUENTAS_JUDICIALES.route}`, { ...data });\n        await send({\n          url: `api/${CUENTAS_JUDICIALES.route}/`,\n          data: formData,\n          method: 'POST',\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n        });\n      }\n\n      setError(null);\n      handleCancel();\n      mutate();\n    } catch (error) {\n      console.log(error);\n\n      if (currentData !== null && currentData !== void 0 && currentData.id) {\n        setError('onEdit');\n      } else {\n        setError('onCreate');\n      }\n    }\n  };\n\n  const handleCancel = async () => {\n    setCurrentData(null);\n    setOpenForm(false);\n  };\n\n  const handleDelete = async id => {\n    console.log('handleDelete', id);\n\n    try {\n      await remove(`api/${CUENTAS_JUDICIALES.route}`, id);\n      setError(null);\n    } catch (error) {\n      setError('onDelete');\n    }\n\n    mutate();\n  };\n\n  const onEdit = async data => {\n    setCurrentData(data);\n    setOpenForm(true);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(ActionBar, {\n      actions: cuentasactions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      p: 2,\n      m: 1,\n      children: [openForm && /*#__PURE__*/_jsxDEV(CuentasJudicialesForm, {\n        data: currentData,\n        handleSubmit: handleSubmit,\n        handleCancel: handleCancel\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }, this), data && /*#__PURE__*/_jsxDEV(CuentasJudicialesList, {\n        data: data,\n        handleDelete: handleDelete,\n        onEdit: onEdit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Loading, {\n      loading: !data,\n      message: LOADING(CUENTAS_JUDICIALES.name)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Alert, {\n      open: errotOnGet || error,\n      severity: \"error\",\n      message: error ? ERRORS[error](CUENTAS_JUDICIALES.name) : ERRORS.onGet(CUENTAS_JUDICIALES.name)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}","map":{"version":3,"sources":["/reintegros/reintegros-frontend/components/cuentas/judiciales/CuentasJudiciales.tsx"],"names":["React","useState","Box","useSWR","SaveIcon","ActionBar","ACTIONS","ERRORS","LOADING","CUENTAS_JUDICIALES","CuentasJudicialesList","CuentasJudicialesForm","remove","send","Alert","Loading","CuentasJudiciales","data","error","errotOnGet","mutate","route","openForm","setOpenForm","currentData","setCurrentData","setError","cuentasactions","label","crete","name","onClick","icon","handleSubmit","formData","FormData","append","delegacion","responsableDeCarga","oficioJudicial","informacionAdicional","id","url","method","headers","handleCancel","console","log","handleDelete","onEdit","onGet"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Box } from '@material-ui/core';\nimport useSWR from 'swr';\nimport SaveIcon from '@material-ui/icons/Save';\nimport ActionBar from '../../common/ActionBar';\nimport { Action } from '../../common/types/Action';\nimport { ACTIONS, ERRORS, LOADING, CUENTAS_JUDICIALES } from '../../../labels';\nimport CuentasJudicialesList from './CuentasJudicialesList';\nimport CuentasJudicialesForm from './CuentasJudicialesForm';\nimport { post, put, remove, send } from '../../api-call/service';\nimport Alert from '../../common/Alert';\nimport Loading from '../../common/Loading';\n\nexport default function CuentasJudiciales() {\n  const { data, error: errotOnGet, mutate } = useSWR(`api/${CUENTAS_JUDICIALES.route}/`);\n  const [openForm, setOpenForm] = useState(false);\n  const [currentData, setCurrentData] = useState(null);\n  const [error, setError] = useState(null);\n\n  const cuentasactions: Action[] = [\n    {\n      label: ACTIONS.crete(CUENTAS_JUDICIALES.name),\n      onClick: () => {\n        setCurrentData({});\n        setOpenForm(!openForm);\n      },\n      icon: <SaveIcon />,\n    },\n  ];\n\n  const handleSubmit = async (data) => {\n    const formData = new FormData();\n    formData.append('delegacion', data.delegacion);\n    formData.append('responsableDeCarga', data.responsableDeCarga);\n    formData.append('oficioJudicial', data.oficioJudicial);\n    formData.append('informacionAdicional', data.informacionAdicional);\n\n    try {\n      if (currentData?.id) {\n        // await put(`api/${CUENTAS_JUDICIALES.route}`, { ...data }, currentData?.id);\n        await send({\n          url: `api/${CUENTAS_JUDICIALES.route}/`,\n          data: formData,\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        });\n      } else {\n        // await post(`api/${CUENTAS_JUDICIALES.route}`, { ...data });\n        await send({\n          url: `api/${CUENTAS_JUDICIALES.route}/`,\n          data: formData,\n          method: 'POST',\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        });\n      }\n      setError(null);\n      handleCancel();\n      mutate();\n    } catch (error) {\n      console.log(error);\n      if (currentData?.id) {\n        setError('onEdit');\n      } else {\n        setError('onCreate');\n      }\n    }\n  };\n\n  const handleCancel = async () => {\n    setCurrentData(null);\n    setOpenForm(false);\n  };\n\n  const handleDelete = async (id: number) => {\n    console.log('handleDelete', id);\n    try {\n      await remove(`api/${CUENTAS_JUDICIALES.route}`, id);\n      setError(null);\n    } catch (error) {\n      setError('onDelete');\n    }\n    mutate();\n  };\n\n  const onEdit = async (data) => {\n    setCurrentData(data);\n    setOpenForm(true);\n  };\n  return (\n    <>\n      <ActionBar actions={cuentasactions} />\n\n      <Box p={2} m={1}>\n        {openForm && (\n          <CuentasJudicialesForm\n            data={currentData}\n            handleSubmit={handleSubmit}\n            handleCancel={handleCancel}\n          />\n        )}\n        {data && <CuentasJudicialesList data={data} handleDelete={handleDelete} onEdit={onEdit} />}\n      </Box>\n\n      <Loading loading={!data} message={LOADING(CUENTAS_JUDICIALES.name)} />\n      <Alert\n        open={errotOnGet || error}\n        severity=\"error\"\n        message={\n          error ? ERRORS[error](CUENTAS_JUDICIALES.name) : ERRORS.onGet(CUENTAS_JUDICIALES.name)\n        }\n      />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}