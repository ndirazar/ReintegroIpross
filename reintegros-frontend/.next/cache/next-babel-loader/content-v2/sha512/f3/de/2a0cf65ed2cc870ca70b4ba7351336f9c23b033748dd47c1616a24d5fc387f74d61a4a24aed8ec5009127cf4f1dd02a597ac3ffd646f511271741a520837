{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"/reintegros/reintegros-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/reintegros/reintegros-frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/reintegros/reintegros-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"/reintegros/reintegros-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/reintegros/reintegros-frontend/components/solicitudes/SolicitudesList.tsx\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport { Delete } from '@material-ui/icons';\nimport AddIcon from '@material-ui/icons/Add';\nimport ReceiptIcon from '@material-ui/icons/Receipt';\nimport { ACTIONS, SOLICITUDES, STEPPER_SOLICITUDES } from '../../labels';\nimport Table from '../common/Table';\nimport SolicitudesSummary from './SolicitudesSummary';\nimport { send } from '../api-call/service';\nimport Modal from '../common/Modal';\nimport { Box, Divider, IconButton, Link, List, ListItem, ListItemText, Typography } from '@material-ui/core';\nimport Loading from '../common/Loading';\nimport SubTitleModalCreateCupones from './SubTitleModalCreateCupones';\nimport Alert from '../common/Alert';\nimport { isUserAdmin, isUserDelegado, isUserReintegro } from '../common/helpers';\nexport default function SolicitudesList(_ref) {\n  _s();\n\n  var _this = this,\n      _data,\n      _data2;\n\n  var data = _ref.data,\n      handleDelete = _ref.handleDelete,\n      onEdit = _ref.onEdit,\n      onShowStepper = _ref.onShowStepper,\n      onPaginationChange = _ref.onPaginationChange,\n      onFilter = _ref.onFilter,\n      onEditPrestacion = _ref.onEditPrestacion,\n      onExport = _ref.onExport;\n\n  var _useState = useState(false),\n      openModal = _useState[0],\n      setOpenModal = _useState[1];\n\n  var _useState2 = useState([]),\n      dataPreview = _useState2[0],\n      setDataPreview = _useState2[1];\n\n  var _useState3 = useState(null),\n      solicitudPreview = _useState3[0],\n      setSolicitudPreview = _useState3[1];\n\n  var _useState4 = useState(false),\n      processing = _useState4[0],\n      setProcessing = _useState4[1];\n\n  var _useState5 = useState(null),\n      info = _useState5[0],\n      setInfo = _useState5[1];\n\n  var _useState6 = useState(null),\n      error = _useState6[0],\n      setError = _useState6[1];\n\n  var _useState7 = useState({\n    page: 1,\n    pageSize: 20\n  }),\n      pagination = _useState7[0],\n      setPagination = _useState7[1];\n\n  var dynamicRenders = {\n    'factura.id': function facturaId(rowData) {\n      var _rowData$factura;\n\n      if ((_rowData$factura = rowData.factura) !== null && _rowData$factura !== void 0 && _rowData$factura.archivo) {\n        var filesUrl = process.env.NEXT_PUBLIC_API.substring(0, process.env.NEXT_PUBLIC_API.length - 1);\n        return /*#__PURE__*/_jsxDEV(Link, {\n          href: \"\".concat(filesUrl).concat(rowData.factura.archivo),\n          target: \"_blank\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            color: \"primary\",\n            \"aria-label\": \"factura\",\n            component: \"span\",\n            children: /*#__PURE__*/_jsxDEV(ReceiptIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, _this);\n      }\n    }\n  };\n  var columns = Object.keys(SOLICITUDES.fields).map(function (key) {\n    var _ref2, _dynamicRenders$key;\n\n    return {\n      title: SOLICITUDES.fields[key],\n      field: key,\n      render: (_ref2 = (_dynamicRenders$key = dynamicRenders[key]) !== null && _dynamicRenders$key !== void 0 ? _dynamicRenders$key : SOLICITUDES.renders[key]) !== null && _ref2 !== void 0 ? _ref2 : null\n    };\n  });\n\n  var getHeaderActions = function getHeaderActions() {\n    var options = [];\n\n    if (isUserAdmin() || isUserDelegado() || isUserReintegro()) {\n      options = [{\n        label: STEPPER_SOLICITUDES.add,\n        onClick: onShowStepper,\n        icon: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }, _this)\n      }];\n    }\n\n    return options;\n  };\n\n  var getActions = function getActions() {\n    var actions = []; // if (isUserAdmin() || isUserReintegro() || isUserDelegado()) {\n    //   actions.push({\n    //     icon: () => <Edit />,\n    //     tooltip: ACTIONS.update(SOLICITUDES.name),\n    //     onClick: (event, rowData) => {\n    //       onEdit(rowData);\n    //     },\n    //   });\n    // }\n\n    if (isUserAdmin()) {\n      actions = [].concat(_toConsumableArray(actions), [{\n        icon: function icon() {\n          return /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 23\n          }, _this);\n        },\n        tooltip: ACTIONS[\"delete\"](SOLICITUDES.name),\n        onClick: function () {\n          var _onClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event, selected) {\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    selected.forEach(function (s) {\n                      handleDelete(s === null || s === void 0 ? void 0 : s.id);\n                    });\n\n                  case 1:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n\n          function onClick(_x, _x2) {\n            return _onClick.apply(this, arguments);\n          }\n\n          return onClick;\n        }()\n      }, {\n        icon: function icon() {\n          return /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 23\n          }, _this);\n        },\n        tooltip: 'Crear solicitudes de autorización',\n        onClick: function () {\n          var _onClick2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event, rowData) {\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    preCreateCupones(rowData);\n\n                  case 1:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2);\n          }));\n\n          function onClick(_x3, _x4) {\n            return _onClick2.apply(this, arguments);\n          }\n\n          return onClick;\n        }()\n      }]);\n    }\n\n    return actions;\n  };\n\n  var preCreateCupones = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(rowData) {\n      var preview;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              setInfo(null);\n              setError(null);\n              data = rowData.map(function (item) {\n                return item.id;\n              });\n              _context3.prev = 3;\n              _context3.next = 6;\n              return send({\n                url: \"api/cupon/verificar\",\n                data: {\n                  solicitudes: data\n                },\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 6:\n              preview = _context3.sent;\n              setOpenModal(true);\n              setSolicitudPreview(rowData);\n              setDataPreview(preview.data.results);\n              _context3.next = 15;\n              break;\n\n            case 12:\n              _context3.prev = 12;\n              _context3.t0 = _context3[\"catch\"](3);\n              setError('Error');\n\n            case 15:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[3, 12]]);\n    }));\n\n    return function preCreateCupones(_x5) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleConfirmModal = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var ids, preview;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              setInfo(null);\n              setError(null);\n              ids = [];\n              dataPreview.forEach(function (value) {\n                ids.push(value.solicitud.id);\n              });\n              setProcessing(true);\n              _context4.prev = 5;\n              _context4.next = 8;\n              return send({\n                url: \"api/cupon/\",\n                data: {\n                  solicitudes: ids\n                },\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 8:\n              preview = _context4.sent;\n\n              if (preview.data.count === 0) {\n                setError(SOLICITUDES.messages.errorCreateCupones);\n              } else {\n                setInfo(SOLICITUDES.messages.successCreateCupones(preview.data.count));\n              }\n\n              setOpenModal(false);\n              _context4.next = 16;\n              break;\n\n            case 13:\n              _context4.prev = 13;\n              _context4.t0 = _context4[\"catch\"](5);\n              setError('Error');\n\n            case 16:\n              _context4.prev = 16;\n              setProcessing(false);\n              return _context4.finish(16);\n\n            case 19:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4, null, [[5, 13, 16, 19]]);\n    }));\n\n    return function handleConfirmModal() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var handleCancelModal = function handleCancelModal() {\n    setOpenModal(false);\n  };\n\n  var reloadPagination = function reloadPagination(pagData) {\n    setPagination(pagData);\n    onPaginationChange(_objectSpread(_objectSpread({}, pagination), pagData));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      totalCount: (_data = data) === null || _data === void 0 ? void 0 : _data.count,\n      data: (_data2 = data) === null || _data2 === void 0 ? void 0 : _data2.results,\n      title: SOLICITUDES.name,\n      headerActions: getHeaderActions(),\n      options: {\n        search: true,\n        selection: !!isUserAdmin(),\n        exportFileName: 'Solicitudes',\n        exportButton: {\n          csv: true,\n          pdf: false\n        },\n        exportAllData: true,\n        exportCsv: onExport\n      },\n      pagination: {\n        page: pagination.page - 1,\n        pageSize: pagination.pageSize\n      },\n      onPageChange: function onPageChange(page, pageSize) {\n        reloadPagination(_objectSpread(_objectSpread({}, pagination), {}, {\n          page: page + 1,\n          pageSize: pageSize\n        }));\n      },\n      onChangeRowsPerPage: function onChangeRowsPerPage(pageSize) {\n        reloadPagination(_objectSpread(_objectSpread({}, pagination), {}, {\n          pageSize: pageSize\n        }));\n      },\n      actions: getActions(),\n      onFilterClick: onFilter,\n      detailPanel: function detailPanel(rowData) {\n        return /*#__PURE__*/_jsxDEV(SolicitudesSummary, {\n          solicitud: rowData,\n          header: false,\n          prestaciones: rowData.prestaciones,\n          onEditPrestacion: onEditPrestacion\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, _this);\n      },\n      onSelectionChange: function onSelectionChange() {}\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), openModal && dataPreview && /*#__PURE__*/_jsxDEV(Modal, {\n      customClasses: {},\n      open: true,\n      onClose: function onClose() {\n        return setOpenModal(!openModal);\n      },\n      title: SOLICITUDES.modalCreateCupones.mainTitle,\n      breadcrumbs: '',\n      subTitle: /*#__PURE__*/_jsxDEV(SubTitleModalCreateCupones, {\n        data: dataPreview,\n        solicitudes: solicitudPreview\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 13\n      }, this),\n      actions: true,\n      onAcept: handleConfirmModal,\n      onCancel: handleCancelModal,\n      maxWidth: 'md',\n      children: [/*#__PURE__*/_jsxDEV(List, {\n        children: dataPreview.map(function (item, index) {\n          if (!item.isValid) {\n            return /*#__PURE__*/_jsxDEV(Box, {\n              children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                children: /*#__PURE__*/_jsxDEV(Box, {\n                  children: [/*#__PURE__*/_jsxDEV(Box, {\n                    fontWeight: \"fontWeightBold\",\n                    children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                      primary: /*#__PURE__*/_jsxDEV(Box, {\n                        fontWeight: \"fontWeightBold\",\n                        children: \"Solicitud: \".concat(item.solicitud.id)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 260,\n                        columnNumber: 31\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 258,\n                      columnNumber: 27\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 257,\n                    columnNumber: 25\n                  }, _this), /*#__PURE__*/_jsxDEV(Box, {\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    ml: 5,\n                    children: [/*#__PURE__*/_jsxDEV(Box, {\n                      children: /*#__PURE__*/_jsxDEV(ListItemText, {\n                        primary: \"No es v\\xE1lida\",\n                        secondary: /*#__PURE__*/_jsxDEV(Typography, {\n                          color: \"error\",\n                          children: \"Errores:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 268,\n                          columnNumber: 42\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 266,\n                        columnNumber: 29\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 27\n                    }, _this), /*#__PURE__*/_jsxDEV(Box, {\n                      display: \"flex\",\n                      flexDirection: \"column\",\n                      children: item.errors.map(function (item, ii) {\n                        return /*#__PURE__*/_jsxDEV(ListItemText, {\n                          children: \"- \".concat(item)\n                        }, ii, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 273,\n                          columnNumber: 38\n                        }, _this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 271,\n                      columnNumber: 27\n                    }, _this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 23\n                }, _this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 21\n              }, _this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 21\n              }, _this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 19\n            }, _this);\n          }\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Loading, {\n        loading: dataPreview.length == 0 || processing,\n        message: SOLICITUDES.messages.loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Alert, {\n      open: info !== null && info !== void 0 ? info : error,\n      severity: error ? 'error' : 'success',\n      message: info || error,\n      autoHideAfter: 5500,\n      onClose: function onClose() {\n        setInfo(null);\n        setError(null);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(SolicitudesList, \"6ukXCbGBI5bDUsxxneiY/TcPLOE=\");\n\n_c = SolicitudesList;\n\nvar _c;\n\n$RefreshReg$(_c, \"SolicitudesList\");","map":{"version":3,"sources":["/reintegros/reintegros-frontend/components/solicitudes/SolicitudesList.tsx"],"names":["React","useState","Delete","AddIcon","ReceiptIcon","ACTIONS","SOLICITUDES","STEPPER_SOLICITUDES","Table","SolicitudesSummary","send","Modal","Box","Divider","IconButton","Link","List","ListItem","ListItemText","Typography","Loading","SubTitleModalCreateCupones","Alert","isUserAdmin","isUserDelegado","isUserReintegro","SolicitudesList","data","handleDelete","onEdit","onShowStepper","onPaginationChange","onFilter","onEditPrestacion","onExport","openModal","setOpenModal","dataPreview","setDataPreview","solicitudPreview","setSolicitudPreview","processing","setProcessing","info","setInfo","error","setError","page","pageSize","pagination","setPagination","dynamicRenders","rowData","factura","archivo","filesUrl","process","env","NEXT_PUBLIC_API","substring","length","columns","Object","keys","fields","map","key","title","field","render","renders","getHeaderActions","options","label","add","onClick","icon","getActions","actions","tooltip","name","event","selected","forEach","s","id","preCreateCupones","item","url","solicitudes","method","headers","preview","results","handleConfirmModal","ids","value","push","solicitud","count","messages","errorCreateCupones","successCreateCupones","handleCancelModal","reloadPagination","pagData","search","selection","exportFileName","exportButton","csv","pdf","exportAllData","exportCsv","prestaciones","modalCreateCupones","mainTitle","index","isValid","errors","ii","loading"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Delete, Edit, PinDropSharp } from '@material-ui/icons';\nimport AddIcon from '@material-ui/icons/Add';\nimport ReceiptIcon from '@material-ui/icons/Receipt';\nimport { ACTIONS, SOLICITUDES, STEPPER_SOLICITUDES } from '../../labels';\nimport Table from '../common/Table';\nimport { apiRequest } from '../common/types/Request';\nimport SolicitudesSummary from './SolicitudesSummary';\nimport { Solicitud } from '../common/types/Solicitud';\nimport { send } from '../api-call/service';\nimport Modal from '../common/Modal';\nimport {\n  Box,\n  Divider,\n  IconButton,\n  Link,\n  List,\n  ListItem,\n  ListItemText,\n  Typography,\n} from '@material-ui/core';\nimport Loading from '../common/Loading';\nimport SubTitleModalCreateCupones from './SubTitleModalCreateCupones';\nimport Alert from '../common/Alert';\nimport { isUserAdmin, isUserDelegado, isUserReintegro } from '../common/helpers';\nimport filterConfig from './FiltersConfig';\n\ntype Props = {\n  data: apiRequest;\n  handleDelete?: (id: number) => void;\n  onEdit: (data: Solicitud) => void;\n  onShowStepper: () => void;\n  onPaginationChange: (pagination: any) => void;\n  onFilter: () => void;\n  onEditPrestacion?: (data: any) => void;\n  onExport?: (allColumns: any, allData: any) => void;\n};\nexport default function SolicitudesList({\n  data,\n  handleDelete,\n  onEdit,\n  onShowStepper,\n  onPaginationChange,\n  onFilter,\n  onEditPrestacion,\n  onExport,\n}: Props) {\n  const [openModal, setOpenModal] = useState(false);\n  const [dataPreview, setDataPreview] = useState([]);\n  const [solicitudPreview, setSolicitudPreview] = useState(null);\n  const [processing, setProcessing] = useState(false);\n  const [info, setInfo] = useState(null);\n  const [error, setError] = useState(null);\n  const [pagination, setPagination] = useState({\n    page: 1,\n    pageSize: 20,\n  });\n\n  const dynamicRenders = {\n    'factura.id': (rowData) => {\n      if (rowData.factura?.archivo) {\n        const filesUrl = process.env.NEXT_PUBLIC_API.substring(\n          0,\n          process.env.NEXT_PUBLIC_API.length - 1,\n        );\n        return (\n          <Link href={`${filesUrl}${rowData.factura.archivo}`} target=\"_blank\">\n            <IconButton color=\"primary\" aria-label=\"factura\" component=\"span\">\n              <ReceiptIcon />\n            </IconButton>\n          </Link>\n        );\n      }\n    },\n  };\n\n  const columns = Object.keys(SOLICITUDES.fields).map((key) => ({\n    title: SOLICITUDES.fields[key],\n    field: key,\n    render: dynamicRenders[key] ?? SOLICITUDES.renders[key] ?? null,\n  }));\n\n  const getHeaderActions = () => {\n    var options = [];\n    if (isUserAdmin() || isUserDelegado() || isUserReintegro()) {\n      options = [\n        {\n          label: STEPPER_SOLICITUDES.add,\n          onClick: onShowStepper,\n          icon: <AddIcon />,\n        },\n      ];\n    }\n    return options;\n  };\n\n  const getActions = () => {\n    var actions = [];\n    // if (isUserAdmin() || isUserReintegro() || isUserDelegado()) {\n    //   actions.push({\n    //     icon: () => <Edit />,\n    //     tooltip: ACTIONS.update(SOLICITUDES.name),\n    //     onClick: (event, rowData) => {\n    //       onEdit(rowData);\n    //     },\n    //   });\n    // }\n    if (isUserAdmin()) {\n      actions = [\n        ...actions,\n        {\n          icon: () => <Delete />,\n          tooltip: ACTIONS.delete(SOLICITUDES.name),\n          onClick: async (event, selected) => {\n            selected.forEach((s) => {\n              handleDelete(s?.id);\n            });\n          },\n        },\n        {\n          icon: () => <AddIcon />,\n          tooltip: 'Crear solicitudes de autorización',\n          onClick: async (event, rowData) => {\n            preCreateCupones(rowData);\n          },\n        },\n      ];\n    }\n    return actions;\n  };\n\n  const preCreateCupones = async (rowData) => {\n    setInfo(null);\n    setError(null);\n    data = rowData.map((item) => item.id);\n    try {\n      const preview = await send({\n        url: `api/cupon/verificar`,\n        data: { solicitudes: data },\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n      setOpenModal(true);\n      setSolicitudPreview(rowData);\n      setDataPreview(preview.data.results);\n    } catch (error) {\n      setError('Error');\n    }\n  };\n\n  const handleConfirmModal = async () => {\n    setInfo(null);\n    setError(null);\n    var ids = [];\n    dataPreview.forEach((value) => {\n      ids.push(value.solicitud.id);\n    });\n    setProcessing(true);\n    try {\n      const preview = await send({\n        url: `api/cupon/`,\n        data: { solicitudes: ids },\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n      if (preview.data.count === 0) {\n        setError(SOLICITUDES.messages.errorCreateCupones);\n      } else {\n        setInfo(SOLICITUDES.messages.successCreateCupones(preview.data.count));\n      }\n\n      setOpenModal(false);\n    } catch (error) {\n      setError('Error');\n    } finally {\n      setProcessing(false);\n    }\n  };\n\n  const handleCancelModal = () => {\n    setOpenModal(false);\n  };\n\n  const reloadPagination = (pagData: any) => {\n    setPagination(pagData);\n    onPaginationChange({ ...pagination, ...pagData });\n  };\n\n  return (\n    <>\n      <Table\n        columns={columns}\n        totalCount={data?.count}\n        data={data?.results}\n        title={SOLICITUDES.name}\n        headerActions={getHeaderActions()}\n        options={{\n          search: true,\n          selection: !!isUserAdmin(),\n          exportFileName: 'Solicitudes',\n          exportButton: {\n            csv: true,\n            pdf: false,\n          },\n          exportAllData: true,\n          exportCsv: onExport,\n        }}\n        pagination={{\n          page: pagination.page - 1,\n          pageSize: pagination.pageSize,\n        }}\n        onPageChange={(page: number, pageSize: number) => {\n          reloadPagination({ ...pagination, page: page + 1, pageSize });\n        }}\n        onChangeRowsPerPage={(pageSize) => {\n          reloadPagination({ ...pagination, pageSize });\n        }}\n        actions={getActions()}\n        onFilterClick={onFilter}\n        detailPanel={(rowData) => (\n          <SolicitudesSummary\n            solicitud={rowData}\n            header={false}\n            prestaciones={rowData.prestaciones}\n            onEditPrestacion={onEditPrestacion}\n          />\n        )}\n        onSelectionChange={() => {}}\n      />\n\n      {openModal && dataPreview && (\n        <Modal\n          customClasses={{}}\n          open={true}\n          onClose={() => setOpenModal(!openModal)}\n          title={SOLICITUDES.modalCreateCupones.mainTitle}\n          breadcrumbs={''}\n          subTitle={\n            <SubTitleModalCreateCupones data={dataPreview} solicitudes={solicitudPreview} />\n          }\n          actions={true}\n          onAcept={handleConfirmModal}\n          onCancel={handleCancelModal}\n          maxWidth={'md'}\n        >\n          <List>\n            {dataPreview.map((item, index) => {\n              if (!item.isValid) {\n                return (\n                  <Box key={index}>\n                    <ListItem>\n                      <Box>\n                        <Box fontWeight=\"fontWeightBold\">\n                          <ListItemText\n                            primary={\n                              <Box fontWeight=\"fontWeightBold\">{`Solicitud: ${item.solicitud.id}`}</Box>\n                            }\n                          />\n                        </Box>\n                        <Box display=\"flex\" flexDirection=\"column\" ml={5}>\n                          <Box>\n                            <ListItemText\n                              primary=\"No es válida\"\n                              secondary={<Typography color=\"error\">Errores:</Typography>}\n                            />\n                          </Box>\n                          <Box display=\"flex\" flexDirection=\"column\">\n                            {item.errors.map((item, ii) => {\n                              return <ListItemText key={ii}>{`- ${item}`}</ListItemText>;\n                            })}\n                          </Box>\n                        </Box>\n                      </Box>\n                    </ListItem>\n                    <Divider />\n                  </Box>\n                );\n              }\n            })}\n          </List>\n          <Loading\n            loading={dataPreview.length == 0 || processing}\n            message={SOLICITUDES.messages.loading}\n          />\n        </Modal>\n      )}\n      <Alert\n        open={info ?? error}\n        severity={error ? 'error' : 'success'}\n        message={info || error}\n        autoHideAfter={5500}\n        onClose={() => {\n          setInfo(null);\n          setError(null);\n        }}\n      />\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}