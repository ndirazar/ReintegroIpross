{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/reintegros/reintegros-frontend/components/common/FileInput.tsx\",\n    _s = $RefreshSig$();\n\n// Third-party imports\nimport React, { useEffect, useState } from 'react';\n// Component\nexport default function FileInput(props) {\n  _s();\n\n  var _useState = useState(false),\n      clear = _useState[0],\n      setClear = _useState[1];\n\n  var _useState2 = useState(''),\n      fileName = _useState2[0],\n      setFileName = _useState2[1];\n\n  var _useState3 = useState(null),\n      fileContent = _useState3[0],\n      setFileContent = _useState3[1];\n\n  var changeHandler = function changeHandler(event) {\n    var target = event.target;\n    setClear(false);\n\n    try {\n      if (!props.multiple) {\n        var reader = new FileReader();\n        var file = target.files[0];\n        setFileName(file.name);\n\n        reader.onload = function () {\n          props.onReadData && props.onReadData({\n            result: reader.result.toString(),\n            file: file\n          });\n        };\n\n        setFileContent(file);\n        reader.readAsText(file);\n      } else {\n        var faux = [];\n        Array.from(target.files).forEach(function (file) {\n          var reader = new FileReader();\n\n          reader.onload = function () {\n            props.onReadData && props.onReadData({\n              result: reader.result.toString(),\n              file: file\n            });\n          };\n\n          reader.readAsText(file);\n          faux.push(file);\n        });\n        setFileContent(faux);\n      }\n    } catch (e) {//TODO some thing\n    }\n  };\n\n  var removeFile = function removeFile() {\n    setFileName(null);\n    setFileContent(null);\n    setClear(true);\n    props.onRemove && props.onRemove();\n  };\n\n  useEffect(function () {\n    if (props.previousFile && !fileName && !clear) {\n      setFileName(props.previousFile);\n    }\n  }, [props]);\n  useEffect(function () {\n    if (fileContent && fileContent !== '') {\n      props.onChange && props.onChange(fileContent);\n    }\n  }, [fileContent]);\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: /*#__PURE__*/_jsxDEV(\"input\", {\n      accept: props.accept,\n      id: \"file-input\",\n      multiple: props.multiple,\n      type: \"file\",\n      onChange: changeHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n}\n\n_s(FileInput, \"457oQwMeWlJsFxqEAvjQvIkQFcg=\");\n\n_c = FileInput;\n\nvar _c;\n\n$RefreshReg$(_c, \"FileInput\");","map":{"version":3,"sources":["/reintegros/reintegros-frontend/components/common/FileInput.tsx"],"names":["React","useEffect","useState","FileInput","props","clear","setClear","fileName","setFileName","fileContent","setFileContent","changeHandler","event","target","multiple","reader","FileReader","file","files","name","onload","onReadData","result","toString","readAsText","faux","Array","from","forEach","push","e","removeFile","onRemove","previousFile","onChange","accept"],"mappings":"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","sourcesContent":["// Third-party imports\nimport React, { useEffect, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\n// App imports\n\nimport { IconButton, Typography, Link } from '@material-ui/core';\n\n// Component\nexport default function FileInput(props) {\n  const [clear, setClear] = useState(false);\n  const [fileName, setFileName] = useState('');\n  const [fileContent, setFileContent] = useState<File | string | File[] | string[]>(null);\n  const changeHandler = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const target = event.target;\n    setClear(false);\n    try {\n      if (!props.multiple) {\n        const reader = new FileReader();\n        const file = target.files[0];\n        setFileName(file.name);\n\n        reader.onload = () => {\n          props.onReadData && props.onReadData({ result: reader.result.toString(), file });\n        };\n        setFileContent(file);\n        reader.readAsText(file);\n      } else {\n        const faux = [];\n        Array.from(target.files).forEach((file) => {\n          const reader = new FileReader();\n          reader.onload = () => {\n            props.onReadData && props.onReadData({ result: reader.result.toString(), file });\n          };\n\n          reader.readAsText(file);\n          faux.push(file);\n        });\n        setFileContent(faux);\n      }\n    } catch (e) {\n      //TODO some thing\n    }\n  };\n\n  const removeFile = () => {\n    setFileName(null);\n    setFileContent(null);\n    setClear(true);\n    props.onRemove && props.onRemove();\n  };\n\n  useEffect(() => {\n    if (props.previousFile && !fileName && !clear) {\n      setFileName(props.previousFile);\n    }\n  }, [props]);\n\n  useEffect(() => {\n    if (fileContent && fileContent !== '') {\n      props.onChange && props.onChange(fileContent);\n    }\n  }, [fileContent]);\n\n  return (\n    <span>\n      <input\n        accept={props.accept}\n        id=\"file-input\"\n        multiple={props.multiple}\n        type=\"file\"\n        onChange={changeHandler}\n      />\n    </span>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}