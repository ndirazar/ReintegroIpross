{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _toConsumableArray from \"/reintegros/reintegros-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { Box, Typography, Grid } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport { useFormContext } from 'react-hook-form';\nimport FieldRender from '../builder/FieldRender';\nimport configSolicitudes from './FormConfig';\nimport Cookies from 'universal-cookie';\nimport AfiliadosSearch from '../afiliados/AfiliadosSearch';\nimport { SOLICITUDES } from '../../labels';\nimport { FieldType } from '../builder/FormField';\nexport var FormSolicitud = function FormSolicitud(_ref) {\n  var formContent = _ref.formContent,\n      step = _ref.step;\n  var methods = useFormContext();\n\n  var _useState = useState(null),\n      afiliado = _useState[0],\n      setAfiliado = _useState[1];\n\n  var cookies = new Cookies();\n  var user = cookies.get('user');\n\n  var handleSelectAfiliado = function handleSelectAfiliado(afiliado) {\n    methods.setValue('solicitud.afiliado', afiliado);\n    setAfiliado(afiliado);\n  };\n\n  var options = function options() {\n    if (afiliado !== null && afiliado !== void 0 && afiliado.cuentajudicial) {\n      return [{\n        label: 'No judicial',\n        value: 'noJudicial'\n      }, {\n        label: 'Judicial',\n        value: 'judicial'\n      }];\n    } else {\n      return [{\n        label: 'No judicial',\n        value: 'noJudicial'\n      }];\n    }\n  };\n\n  var config = [{\n    name: 'tipo',\n    type: FieldType.options,\n    label: SOLICITUDES.messages.tipoForm,\n    options: options(),\n    onChange: function onChange(value, form) {\n      console.log('Tipo');\n      console.log(value, form);\n    },\n    styling: {\n      columns: 3\n    },\n    rules: {\n      required: true\n    }\n  }].concat(_toConsumableArray(configSolicitudes));\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(Box, {\n      children: [/*#__PURE__*/_jsx(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        children: step.title\n      }), /*#__PURE__*/_jsx(Typography, {\n        variant: \"subtitle1\",\n        gutterBottom: true,\n        children: step.description\n      })]\n    }), /*#__PURE__*/_jsx(\"form\", {\n      children: /*#__PURE__*/_jsxs(Grid, {\n        container: true,\n        spacing: 2,\n        children: [/*#__PURE__*/_jsx(AfiliadosSearch, {\n          form: methods,\n          onSelect: handleSelectAfiliado\n        }), config.map(function (field, index) {\n          var _field$styling, _user$delegacionPrinc;\n\n          return /*#__PURE__*/_jsx(Grid, {\n            item: true,\n            md: ((_field$styling = field.styling) === null || _field$styling === void 0 ? void 0 : _field$styling.columns) || 12,\n            children: /*#__PURE__*/_jsx(FieldRender, {\n              field: field,\n              form: methods,\n              data: {\n                afiliado: afiliado,\n                estadoActual: 'sinPagos',\n                delegacion: (user === null || user === void 0 ? void 0 : (_user$delegacionPrinc = user.delegacionPrincipal) === null || _user$delegacionPrinc === void 0 ? void 0 : _user$delegacionPrinc.id) || null,\n                tipo: 'noJudicial'\n              }\n            })\n          }, index);\n        })]\n      })\n    })]\n  });\n};","map":null,"metadata":{},"sourceType":"module"}