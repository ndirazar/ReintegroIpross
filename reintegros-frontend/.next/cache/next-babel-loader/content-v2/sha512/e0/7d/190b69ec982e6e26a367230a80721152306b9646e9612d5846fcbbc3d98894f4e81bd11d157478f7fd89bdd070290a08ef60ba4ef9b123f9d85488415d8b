{"ast":null,"code":"import Cookies from 'universal-cookie';\nimport { format, parseISO } from 'date-fns';\nimport { DELEGACIONES } from '../../labels';\n\nconst objToQueryString = obj => {\n  var str = '';\n\n  for (var key in obj) {\n    if (obj === '' || obj === null || typeof obj[key] === 'undefined') {\n      continue;\n    }\n\n    if (str !== '') {\n      str += '&';\n    }\n\n    str += key + '=' + encodeURIComponent(obj[key]);\n  }\n\n  return str;\n};\n\nconst formatDate = date => {\n  let d = date;\n  console.log({\n    date\n  });\n\n  if (typeof date === 'string') {\n    if (date.search('Z') < 0) {\n      d += 'T00:00:00.000Z';\n    }\n\n    d = parseISO(d);\n  }\n\n  console.log({\n    d\n  });\n  return format(d, 'yyyy-MM-dd');\n};\n\nconst strToDate = str => {\n  if (!str || str === '') {\n    return new Date();\n  }\n\n  const dateArr = str.split('-');\n  const month = Number(dateArr[1]) - 1;\n  return new Date(dateArr[0], month, dateArr[2]);\n};\n\nconst getUserDelegaciones = () => {\n  var _user$delegaciones;\n\n  const user = getUser();\n\n  if (!(user !== null && user !== void 0 && user.delegaciones) || (user === null || user === void 0 ? void 0 : user.delegaciones.length) < 1) {\n    return [{\n      value: '',\n      label: DELEGACIONES.userWithoutDelegacionesOption\n    }];\n  }\n\n  let del = user === null || user === void 0 ? void 0 : (_user$delegaciones = user.delegaciones) === null || _user$delegaciones === void 0 ? void 0 : _user$delegaciones.map(d => {\n    return {\n      value: d.id,\n      label: d.nombre\n    };\n  });\n\n  if (isUserAdmin()) {\n    del = addAllToOpts(del, 'Todas');\n  }\n\n  return del;\n};\n\nconst getUser = () => {\n  const cookies = new Cookies();\n  const user = cookies.get('user');\n  return user;\n};\n\nconst isUserAdmin = () => {\n  var _user$groups;\n\n  const user = getUser();\n  return user === null || user === void 0 ? void 0 : (_user$groups = user.groups) === null || _user$groups === void 0 ? void 0 : _user$groups.find(g => g.name === 'Administrador');\n};\n\nconst isUserReintegro = () => {\n  var _user$groups2;\n\n  const user = getUser();\n  return user === null || user === void 0 ? void 0 : (_user$groups2 = user.groups) === null || _user$groups2 === void 0 ? void 0 : _user$groups2.find(g => g.name === 'Reintegro');\n};\n\nconst isUserDelegado = () => {\n  var _user$groups3;\n\n  const user = getUser();\n  return user === null || user === void 0 ? void 0 : (_user$groups3 = user.groups) === null || _user$groups3 === void 0 ? void 0 : _user$groups3.find(g => g.name === 'Delegado');\n};\n\nconst isUserAuditoriaAdministrativa = () => {\n  var _user$groups4;\n\n  const user = getUser();\n  return user === null || user === void 0 ? void 0 : (_user$groups4 = user.groups) === null || _user$groups4 === void 0 ? void 0 : _user$groups4.find(g => g.name === 'AuditoriaAdministrativa');\n};\n\nconst isUserAuditoriaCentral = () => {\n  var _user$groups5;\n\n  const user = getUser();\n  return user === null || user === void 0 ? void 0 : (_user$groups5 = user.groups) === null || _user$groups5 === void 0 ? void 0 : _user$groups5.find(g => g.name === 'AuditoriaCentral');\n};\n\nconst isUserAuditoriaMedica = () => {\n  var _user$groups6;\n\n  const user = getUser();\n  return user === null || user === void 0 ? void 0 : (_user$groups6 = user.groups) === null || _user$groups6 === void 0 ? void 0 : _user$groups6.find(g => g.name === 'AuditoriaMedica');\n};\n\nconst isUserContaduria = () => {\n  var _user$groups7;\n\n  const user = getUser();\n  return user === null || user === void 0 ? void 0 : (_user$groups7 = user.groups) === null || _user$groups7 === void 0 ? void 0 : _user$groups7.find(g => g.name === 'Contaduria');\n};\n\nconst isUserTesoreria = () => {\n  var _user$groups8;\n\n  const user = getUser();\n  return user === null || user === void 0 ? void 0 : (_user$groups8 = user.groups) === null || _user$groups8 === void 0 ? void 0 : _user$groups8.find(g => g.name === 'Tesoreria');\n};\n\nconst isUserPresidencia = () => {\n  var _user$groups9;\n\n  const user = getUser();\n  return user === null || user === void 0 ? void 0 : (_user$groups9 = user.groups) === null || _user$groups9 === void 0 ? void 0 : _user$groups9.find(g => g.name === 'Presidencia');\n};\n\nconst checkUserRole = role => {\n  var _user$groups10;\n\n  const user = getUser();\n  return user === null || user === void 0 ? void 0 : (_user$groups10 = user.groups) === null || _user$groups10 === void 0 ? void 0 : _user$groups10.find(g => g.name === role);\n};\n\nconst addAllToOpts = (data, allLabel = '') => {\n  let d = [{\n    label: allLabel || 'Todos',\n    value: ''\n  }];\n  return d.concat(data);\n};\n\nexport { objToQueryString, formatDate, strToDate, getUserDelegaciones, getUser, isUserAdmin, isUserDelegado, isUserReintegro, isUserAuditoriaAdministrativa, isUserAuditoriaMedica, isUserAuditoriaCentral, isUserContaduria, isUserTesoreria, isUserPresidencia, addAllToOpts, checkUserRole };","map":null,"metadata":{},"sourceType":"module"}