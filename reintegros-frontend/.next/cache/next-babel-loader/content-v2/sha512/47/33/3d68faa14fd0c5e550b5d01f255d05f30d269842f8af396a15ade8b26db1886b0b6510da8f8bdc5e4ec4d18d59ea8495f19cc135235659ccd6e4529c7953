{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from 'react';\nimport { AppBar, Box, Button, Toolbar, Container } from '@material-ui/core';\nimport { useRouter } from 'next/router';\nimport { APP_NAME, LOGIN, MAIN_ENTITIES, ADMIN_ENTITIES } from '../../../labels';\nimport Cookies from 'universal-cookie';\nimport { get } from '../../api-call/service';\nimport PeopleRoundedIcon from '@material-ui/icons/PeopleRounded';\nimport { FindInPage } from '@material-ui/icons';\nimport ReceiptIcon from '@material-ui/icons/Receipt';\nimport AccountBalance from '@material-ui/icons/AccountBalance';\nimport Gavel from '@material-ui/icons/Gavel';\nimport PeopleOutline from '@material-ui/icons/PeopleOutline';\nimport PeopleAlt from '@material-ui/icons/PeopleAlt';\nimport Dns from '@material-ui/icons/Dns';\nimport Notifications from '@material-ui/icons/Notifications';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport useStyles from './NavbarStyle';\nexport default function NavBar() {\n  var router = useRouter();\n  var cookies = new Cookies();\n  var classes = useStyles();\n\n  var _useState = useState([]),\n      activeSections = _useState[0],\n      setActiveSections = _useState[1];\n\n  var _useState2 = useState('solicitudes'),\n      active = _useState2[0],\n      setActive = _useState2[1];\n\n  var _useState3 = useState(''),\n      userName = _useState3[0],\n      setUserName = _useState3[1];\n\n  var _useState4 = useState([]),\n      delegaciones = _useState4[0],\n      setDelegaciones = _useState4[1];\n\n  var _useState5 = useState(''),\n      delegacion = _useState5[0],\n      setDelegacion = _useState5[1];\n\n  var goHome = function goHome() {\n    router.push('solicitudes');\n  };\n\n  var goConf = function goConf() {\n    router.push('usuarios');\n  };\n\n  var changeDelegacion = function changeDelegacion(event) {\n    setDelegacion(event.target.value);\n  };\n\n  var showNotifications = function showNotifications() {\n    console.log('Show notifications');\n  };\n\n  var sectionIcons = [{\n    section: 'solicitudes',\n    icon: /*#__PURE__*/_jsx(PeopleRoundedIcon, {\n      className: classes.sectionIcon\n    })\n  }, {\n    section: 'auditorias',\n    icon: /*#__PURE__*/_jsx(FindInPage, {\n      className: classes.sectionIcon\n    })\n  }, {\n    section: 'lotes',\n    icon: /*#__PURE__*/_jsx(ReceiptIcon, {\n      className: classes.sectionIcon\n    })\n  }, {\n    section: 'cuentas_terceros',\n    icon: /*#__PURE__*/_jsx(AccountBalance, {\n      className: classes.sectionIcon\n    })\n  }, {\n    section: 'cuentas_judiciales',\n    icon: /*#__PURE__*/_jsx(Gavel, {\n      className: classes.sectionIcon\n    })\n  }, {\n    section: 'usuarios',\n    icon: /*#__PURE__*/_jsx(PeopleAlt, {\n      className: classes.sectionIcon\n    })\n  }, {\n    section: 'afiliados',\n    icon: /*#__PURE__*/_jsx(PeopleOutline, {\n      className: classes.sectionIcon\n    })\n  }, {\n    section: 'nomenclador',\n    icon: /*#__PURE__*/_jsx(Dns, {\n      className: classes.sectionIcon\n    })\n  }];\n\n  var getButtonIcon = function getButtonIcon(section) {\n    var icon = sectionIcons.find(function (s) {\n      return s.section === section;\n    });\n    return icon ? icon.icon : /*#__PURE__*/_jsx(_Fragment, {});\n  };\n\n  useEffect(function () {\n    // Active tabs\n    var currentRoute = router.route.replace('/', '');\n    var isAdminRoute = ADMIN_ENTITIES.find(function (e) {\n      return e.page === currentRoute;\n    });\n    setActive(currentRoute);\n\n    if (isAdminRoute) {\n      setActiveSections(ADMIN_ENTITIES);\n    } else {\n      setActiveSections(MAIN_ENTITIES);\n    }\n\n    if (cookies.get('username')) {\n      setUserName(cookies.get('username'));\n    } // Delegaciones select data\n\n\n    getDelegaciones();\n  }, [router.route]);\n\n  var getDelegaciones = function getDelegaciones() {\n    get('api/delegaciones').then(function (response) {\n      var _response$data$result;\n\n      setDelegaciones(response.data.results);\n      setDelegacion((_response$data$result = response.data.results[0]) === null || _response$data$result === void 0 ? void 0 : _response$data$result.id);\n    })[\"catch\"](function (err) {\n      console.log(err);\n    });\n  };\n\n  var logout = function logout() {\n    cookies.remove('access');\n    cookies.remove('refresh');\n    cookies.remove('username');\n    router.push('login');\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(AppBar, {\n      className: classes.appMenu,\n      children: /*#__PURE__*/_jsxs(Toolbar, {\n        children: [/*#__PURE__*/_jsx(\"img\", {\n          src: \"/images/logo-ipross.png\",\n          alt: APP_NAME,\n          width: 143,\n          height: 63\n        }), /*#__PURE__*/_jsx(Box, {\n          display: \"flex\",\n          flexGrow: 1\n        }), /*#__PURE__*/_jsx(Button, {\n          className: classes.menuBtn,\n          onClick: goHome,\n          children: \"Inicio\"\n        }), /*#__PURE__*/_jsx(Button, {\n          className: classes.menuBtn,\n          onClick: goConf,\n          children: \"Configuraci\\xF3n\"\n        }), /*#__PURE__*/_jsx(FormControl, {\n          children: /*#__PURE__*/_jsx(Select, {\n            id: \"delegacion-select\",\n            className: classes.delegacionSelect,\n            value: delegacion,\n            onChange: changeDelegacion,\n            title: \"Delegaci\\xF3n\",\n            children: delegaciones.map(function (del) {\n              return /*#__PURE__*/_jsx(MenuItem, {\n                className: classes.delegacionSelectItem,\n                value: del.id,\n                children: del.nombre\n              }, del.id);\n            })\n          })\n        }), /*#__PURE__*/_jsx(Button, {\n          className: classes.menuBtn,\n          onClick: showNotifications,\n          children: /*#__PURE__*/_jsx(Notifications, {})\n        }), /*#__PURE__*/_jsxs(Button, {\n          className: classes.menuBtn,\n          onClick: logout,\n          children: [LOGIN.logout, \" (\", userName, \")\"]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(Container, {\n      children: /*#__PURE__*/_jsx(Box, {\n        className: classes.sectionsMenu,\n        children: activeSections.map(function (me, i) {\n          return /*#__PURE__*/_jsx(Button, {\n            className: \"\".concat(classes.sectionBtn, \" \").concat(me.page === active ? 'active' : ''),\n            color: \"inherit\",\n            onClick: function onClick() {\n              return router.push(me.page);\n            },\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: classes.sectionBtnWrapper,\n              children: [/*#__PURE__*/_jsx(\"span\", {\n                className: classes.sectionIconWrapper,\n                children: getButtonIcon(me.page)\n              }), /*#__PURE__*/_jsx(\"span\", {\n                className: classes.sectionName,\n                children: me.name\n              })]\n            })\n          }, i);\n        })\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}