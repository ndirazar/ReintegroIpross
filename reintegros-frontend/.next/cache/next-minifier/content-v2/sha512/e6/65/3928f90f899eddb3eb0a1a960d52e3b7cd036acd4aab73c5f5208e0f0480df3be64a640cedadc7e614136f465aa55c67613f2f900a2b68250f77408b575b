{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[24],{\"1waj\":function(e,t,n){\"use strict\";var r=n(\"TqRt\"),a=n(\"284h\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var c=a(n(\"q1tI\")),o=(0,r(n(\"8/g6\")).default)(c.createElement(\"path\",{d:\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"}),\"Add\");t.default=o},DqEY:function(e,t,n){\"use strict\";var r=n(\"TqRt\"),a=n(\"284h\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var c=a(n(\"q1tI\")),o=(0,r(n(\"8/g6\")).default)(c.createElement(\"path\",{d:\"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z\"}),\"CloudDownload\");t.default=o},T3kU:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/lotes\",function(){return n(\"iDA1\")}])},hQyO:function(e,t,n){\"use strict\";var r=n(\"TqRt\"),a=n(\"284h\");Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=void 0;var c=a(n(\"q1tI\")),o=(0,r(n(\"8/g6\")).default)(c.createElement(\"path\",{d:\"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"}),\"Save\");t.default=o},iDA1:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return q}));var r=n(\"nKUr\"),a=n(\"q1tI\"),c=n(\"mAZ4\"),o=n(\"vJKn\"),i=n.n(o),u=n(\"cpVT\"),s=n(\"rg98\"),l=n(\"hlFM\"),p=n(\"VtrM\"),d=n(\"HarB\"),f=n(\"DPVN\"),b=[{name:\"example\",type:n(\"cTyz\").a.int,label:f.p.fields.example,styling:{columns:4},rules:{required:!0}}];function O(e){var t=e.handleSubmit,n=e.data,a=e.handleCancel;return Object(r.jsx)(l.a,{p:2,m:1,children:Object(r.jsx)(d.a,{config:b,data:n,onSubmit:t,onCancel:a})})}var j=n(\"rIeG\"),h=n(\"DqEY\"),v=n.n(h),g=n(\"G633\"),m=n(\"1waj\"),y=n.n(m);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e){var t=e.data,n=(e.handleDelete,e.onEdit,e.onReload),c=e.onPaginationChange,o=Object(a.useState)(!1),u=o[0],l=o[1],p=Object.keys(f.p.fields).map((function(e){var t;return{title:f.p.fields[e],field:e,render:null!==(t=f.p.renders[e])&&void 0!==t?t:null}})),d=Object(a.useState)({page:1,pageSize:20}),b=d[0],O=d[1],h=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,Object(g.f)({url:\"api/lote/\".concat(t.id,\"/crear-archivo-po\"),method:\"POST\",headers:{\"Content-Type\":\"application/json\"}});case 3:e.sent,l(!1),n&&n();case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(i.a.mark((function e(t){var n,r,a,c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.f)({url:\"api/archivo-po/\".concat(t.archivos_po[0].id,\"/descargar-archivo\"),method:\"POST\",headers:{\"Content-Type\":\"text/plain\"}});case 2:n=e.sent,r=t.archivos_po[0].archivo.split(\"/\"),a=r[r.length-1],c=document.createElement(\"a\"),o=new Blob([n.data],{type:\"text/plain\"}),c.href=URL.createObjectURL(o),c.download=a,document.body.appendChild(c),c.click();case 11:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){O(e),c(x(x({},b),e))};return Object(r.jsx)(j.a,{columns:p,totalCount:null===t||void 0===t?void 0:t.count,data:null===t||void 0===t?void 0:t.results,title:f.p.name,options:{search:!1},pagination:{page:b.page-1,pageSize:b.pageSize},onPageChange:function(e,t){w(x(x({},b),{},{page:e+1,pageSize:t}))},onChangeRowsPerPage:function(e){w(x(x({},b),{},{pageSize:e}))},actions:[function(e){return{icon:function(){return Object(r.jsx)(y.a,{})},tooltip:\"Crear archivo PO\",onClick:function(e,t){return h(t)},disabled:!!(e.archivos_po.length>0||u)}},function(e){return{icon:function(){return Object(r.jsx)(v.a,{})},tooltip:\"Descargar archivo PO\",onClick:function(e,t){return m(t)},disabled:0==e.archivos_po.length}}]})}var S=n(\"//uY\"),k=n(\"wnzQ\"),_=n(\"sP+f\"),D=n(\"hQyO\"),E=n.n(D);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(){var e=Object(a.useState)(1),t=e[0],n=e[1],c=Object(a.useState)(20),o=c[0],u=c[1],d=Object(p.b)(\"\".concat(f.p.route,\"?page=\").concat(t,\"&size=\").concat(o)),b=d.data,j=d.error,h=d.mutate,v=Object(a.useState)(!1),m=v[0],y=v[1],w=Object(a.useState)(null),x=w[0],D=w[1],C=Object(a.useState)(null),T=C[0],q=C[1],M=(f.a.crete(f.p.name),E.a,function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null===T||void 0===T||!T.id){e.next=6;break}return e.next=4,Object(g.d)(f.p.route,z({},t),null===T||void 0===T?void 0:T.id);case 4:e.next=8;break;case 6:return e.next=8,Object(g.c)(f.p.route,z({},t));case 8:D(null),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),null!==T&&void 0!==T&&T.id?D(\"onEdit\"):D(\"onCreate\");case 14:q(null),y(!1),h();case 17:case\"end\":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()),R=function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(null),y(!1);case 2:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g.e)(\"\".concat(f.p.route),t);case 3:D(null),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),D(\"onDelete\");case 9:h();case 10:case\"end\":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y(!1),q(t),y(!0);case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(_.a,{actions:[]}),Object(r.jsxs)(l.a,{p:2,m:1,children:[m&&Object(r.jsx)(O,{data:T,handleSubmit:M,handleCancel:R}),Object(r.jsx)(P,{data:b,handleDelete:V,onEdit:N,onReload:function(){h()},onPaginationChange:function(e){n(e.page),u(e.pageSize)}})]}),Object(r.jsx)(S.a,{loading:!b,message:Object(f.n)(f.p.name)}),Object(r.jsx)(k.a,{open:j||x,severity:\"error\",message:x?f.k[x](f.p.name):f.k.onGet(f.p.name)})]})}function q(){return Object(r.jsx)(c.a,{children:Object(r.jsx)(T,{})})}}},[[\"T3kU\",0,2,9,8,1,3,6,5,4,7,10]]]);","map":{"version":3,"sources":["static/chunks/pages/lotes-02e9fc0533d5a8e92a2a.js"],"names":["_N_E","window","push","1waj","module","exports","__webpack_require__","_interopRequireDefault","_interopRequireWildcard","Object","defineProperty","value","default","React","_default","createElement","d","DqEY","T3kU","__NEXT_P","hQyO","iDA1","__webpack_exports__","r","LotesPage","jsx_runtime","react","Layout","regenerator","regenerator_default","n","asyncToGenerator","Box","esm","Form","labels","FormConfig","name","type","label","fields","styling","columns","rules","required","LotesForm","_ref","handleSubmit","data","handleCancel","p","m","children","config","onSubmit","onCancel","Table","CloudDownload","CloudDownload_default","service","Add","Add_default","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","LotesList","onReload","handleDelete","onEdit","onPaginationChange","_useState","loading","setLoading","map","_LOTES$renders$key","title","field","render","renders","_useState2","page","pageSize","pagination","setPagination","crearArchivoPo","_ref2","a","mark","_callee","rowData","wrap","_context","prev","next","url","concat","id","method","headers","Content-Type","sent","stop","_x","this","descargarArchivoPo","_ref3","_callee2","archivo_po","path_file","file_name","element","file","_context2","archivos_po","archivo","split","document","Blob","href","URL","createObjectURL","download","body","appendChild","click","_x2","reloadPagination","pagData","totalCount","count","results","options","search","onPageChange","onChangeRowsPerPage","actions","icon","tooltip","onClick","event","disabled","Loading","Alert","ActionBar","Save","Save_default","Lotes_ownKeys","Lotes_objectSpread","Lotes","setPage","setPageSize","_useSWR","route","errotOnGet","error","mutate","_useState3","openForm","setOpenForm","_useState4","setError","_useState5","currentData","setCurrentData","crete","t0","_callee3","_context3","_ref4","_callee4","_context4","_x3","message","open","severity","onGet"],"mappings":"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"},"name":"static/chunks/pages/lotes-02e9fc0533d5a8e92a2a.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[24],{\n\n/***/ \"1waj\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(\"TqRt\");\n\nvar _interopRequireWildcard = __webpack_require__(\"284h\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(\"q1tI\"));\n\nvar _createSvgIcon = _interopRequireDefault(__webpack_require__(\"8/g6\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;\n\n/***/ }),\n\n/***/ \"DqEY\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(\"TqRt\");\n\nvar _interopRequireWildcard = __webpack_require__(\"284h\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(\"q1tI\"));\n\nvar _createSvgIcon = _interopRequireDefault(__webpack_require__(\"8/g6\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z\"\n}), 'CloudDownload');\n\nexports.default = _default;\n\n/***/ }),\n\n/***/ \"T3kU\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/lotes\",\n        function () {\n          return __webpack_require__(\"iDA1\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"hQyO\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _interopRequireDefault = __webpack_require__(\"TqRt\");\n\nvar _interopRequireWildcard = __webpack_require__(\"284h\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(__webpack_require__(\"q1tI\"));\n\nvar _createSvgIcon = _interopRequireDefault(__webpack_require__(\"8/g6\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;\n\n/***/ }),\n\n/***/ \"iDA1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"default\", function() { return /* binding */ LotesPage; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./components/common/Layout/Layout.tsx + 7 modules\nvar Layout = __webpack_require__(\"mAZ4\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"vJKn\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(\"cpVT\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"rg98\");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Box/Box.js\nvar Box = __webpack_require__(\"hlFM\");\n\n// EXTERNAL MODULE: ./node_modules/swr/esm/index.js + 8 modules\nvar esm = __webpack_require__(\"VtrM\");\n\n// EXTERNAL MODULE: ./components/builder/Form.tsx\nvar Form = __webpack_require__(\"HarB\");\n\n// EXTERNAL MODULE: ./labels.ts\nvar labels = __webpack_require__(\"DPVN\");\n\n// EXTERNAL MODULE: ./components/builder/FormField.tsx\nvar FormField = __webpack_require__(\"cTyz\");\n\n// CONCATENATED MODULE: ./components/lotes/FormConfig.tsx\n\n\nvar configLotes = [//form fields here\n{\n  name: 'example',\n  type: FormField[\"a\" /* FieldType */][\"int\"],\n  label: labels[\"p\" /* LOTES */].fields['example'],\n  styling: {\n    columns: 4\n  },\n  rules: {\n    required: true\n  }\n}];\n/* harmony default export */ var FormConfig = (configLotes);\n// CONCATENATED MODULE: ./components/lotes/LotesForm.tsx\n\n\n\n\n\nfunction LotesForm(_ref) {\n  var handleSubmit = _ref.handleSubmit,\n      data = _ref.data,\n      handleCancel = _ref.handleCancel;\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Box[\"a\" /* default */], {\n    p: 2,\n    m: 1,\n    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */], {\n      config: FormConfig,\n      data: data,\n      onSubmit: handleSubmit,\n      onCancel: handleCancel\n    })\n  });\n}\n// EXTERNAL MODULE: ./components/common/Table.tsx\nvar Table = __webpack_require__(\"rIeG\");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/CloudDownload.js\nvar CloudDownload = __webpack_require__(\"DqEY\");\nvar CloudDownload_default = /*#__PURE__*/__webpack_require__.n(CloudDownload);\n\n// EXTERNAL MODULE: ./components/api-call/service.ts\nvar service = __webpack_require__(\"G633\");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Add.js\nvar Add = __webpack_require__(\"1waj\");\nvar Add_default = /*#__PURE__*/__webpack_require__.n(Add);\n\n// CONCATENATED MODULE: ./components/lotes/LotesList.tsx\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\nfunction LotesList(_ref) {\n  var data = _ref.data,\n      handleDelete = _ref.handleDelete,\n      onEdit = _ref.onEdit,\n      onReload = _ref.onReload,\n      onPaginationChange = _ref.onPaginationChange;\n\n  var _useState = Object(react[\"useState\"])(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var columns = Object.keys(labels[\"p\" /* LOTES */].fields).map(function (key) {\n    var _LOTES$renders$key;\n\n    return {\n      title: labels[\"p\" /* LOTES */].fields[key],\n      field: key,\n      render: (_LOTES$renders$key = labels[\"p\" /* LOTES */].renders[key]) !== null && _LOTES$renders$key !== void 0 ? _LOTES$renders$key : null\n    };\n  });\n\n  var _useState2 = Object(react[\"useState\"])({\n    page: 1,\n    pageSize: 20\n  }),\n      pagination = _useState2[0],\n      setPagination = _useState2[1];\n\n  var crearArchivoPo = /*#__PURE__*/function () {\n    var _ref2 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(rowData) {\n      var archivoPo;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.next = 3;\n              return Object(service[\"f\" /* send */])({\n                url: \"api/lote/\".concat(rowData.id, \"/crear-archivo-po\"),\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 3:\n              archivoPo = _context.sent;\n              setLoading(false);\n              onReload && onReload();\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function crearArchivoPo(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var descargarArchivoPo = /*#__PURE__*/function () {\n    var _ref3 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(rowData) {\n      var archivo_po, path_file, file_name, element, file;\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return Object(service[\"f\" /* send */])({\n                url: \"api/archivo-po/\".concat(rowData.archivos_po[0].id, \"/descargar-archivo\"),\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'text/plain'\n                }\n              });\n\n            case 2:\n              archivo_po = _context2.sent;\n              path_file = rowData.archivos_po[0].archivo.split('/');\n              file_name = path_file[path_file.length - 1];\n              element = document.createElement('a');\n              file = new Blob([archivo_po.data], {\n                type: 'text/plain'\n              });\n              element.href = URL.createObjectURL(file);\n              element.download = file_name;\n              document.body.appendChild(element);\n              element.click();\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function descargarArchivoPo(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var reloadPagination = function reloadPagination(pagData) {\n    setPagination(pagData);\n    onPaginationChange(_objectSpread(_objectSpread({}, pagination), pagData));\n  };\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Table[\"a\" /* default */], {\n    columns: columns,\n    totalCount: data === null || data === void 0 ? void 0 : data.count,\n    data: data === null || data === void 0 ? void 0 : data.results,\n    title: labels[\"p\" /* LOTES */].name,\n    options: {\n      search: false\n    },\n    pagination: {\n      page: pagination.page - 1,\n      pageSize: pagination.pageSize\n    },\n    onPageChange: function onPageChange(page, pageSize) {\n      reloadPagination(_objectSpread(_objectSpread({}, pagination), {}, {\n        page: page + 1,\n        pageSize: pageSize\n      }));\n    },\n    onChangeRowsPerPage: function onChangeRowsPerPage(pageSize) {\n      reloadPagination(_objectSpread(_objectSpread({}, pagination), {}, {\n        pageSize: pageSize\n      }));\n    },\n    actions: [function (rowData) {\n      return {\n        icon: function icon() {\n          return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Add_default.a, {});\n        },\n        tooltip: 'Crear archivo PO',\n        onClick: function onClick(event, rowData) {\n          return crearArchivoPo(rowData);\n        },\n        disabled: rowData.archivos_po.length > 0 || loading ? true : false\n      };\n    }, function (rowData) {\n      return {\n        icon: function icon() {\n          return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CloudDownload_default.a, {});\n        },\n        tooltip: 'Descargar archivo PO',\n        onClick: function onClick(event, rowData) {\n          return descargarArchivoPo(rowData);\n        },\n        disabled: rowData.archivos_po.length == 0 ? true : false\n      };\n    }]\n  });\n}\n// EXTERNAL MODULE: ./components/common/Loading.tsx\nvar Loading = __webpack_require__(\"//uY\");\n\n// EXTERNAL MODULE: ./components/common/Alert.tsx + 5 modules\nvar Alert = __webpack_require__(\"wnzQ\");\n\n// EXTERNAL MODULE: ./components/common/ActionBar.tsx\nvar ActionBar = __webpack_require__(\"sP+f\");\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Save.js\nvar Save = __webpack_require__(\"hQyO\");\nvar Save_default = /*#__PURE__*/__webpack_require__.n(Save);\n\n// CONCATENATED MODULE: ./components/lotes/Lotes.tsx\n\n\n\n\n\n\n\nfunction Lotes_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction Lotes_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { Lotes_ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { Lotes_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\n\nfunction Lotes() {\n  var _useState = Object(react[\"useState\"])(1),\n      page = _useState[0],\n      setPage = _useState[1];\n\n  var _useState2 = Object(react[\"useState\"])(20),\n      pageSize = _useState2[0],\n      setPageSize = _useState2[1];\n\n  var _useSWR = Object(esm[\"b\" /* default */])(\"\".concat(labels[\"p\" /* LOTES */].route, \"?page=\").concat(page, \"&size=\").concat(pageSize)),\n      data = _useSWR.data,\n      errotOnGet = _useSWR.error,\n      mutate = _useSWR.mutate;\n\n  var _useState3 = Object(react[\"useState\"])(false),\n      openForm = _useState3[0],\n      setOpenForm = _useState3[1];\n\n  var _useState4 = Object(react[\"useState\"])(null),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = Object(react[\"useState\"])(null),\n      currentData = _useState5[0],\n      setCurrentData = _useState5[1];\n\n  var lotesActions = [{\n    label: labels[\"a\" /* ACTIONS */].crete(labels[\"p\" /* LOTES */].name),\n    onClick: function onClick() {\n      return setOpenForm(!openForm);\n    },\n    icon: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Save_default.a, {})\n  }];\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(data) {\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n\n              if (!(currentData !== null && currentData !== void 0 && currentData.id)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 4;\n              return Object(service[\"d\" /* put */])(labels[\"p\" /* LOTES */].route, Lotes_objectSpread({}, data), currentData === null || currentData === void 0 ? void 0 : currentData.id);\n\n            case 4:\n              _context.next = 8;\n              break;\n\n            case 6:\n              _context.next = 8;\n              return Object(service[\"c\" /* post */])(labels[\"p\" /* LOTES */].route, Lotes_objectSpread({}, data));\n\n            case 8:\n              setError(null);\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](0);\n\n              if (currentData !== null && currentData !== void 0 && currentData.id) {\n                setError('onEdit');\n              } else {\n                setError('onCreate');\n              }\n\n            case 14:\n              setCurrentData(null);\n              setOpenForm(false);\n              mutate();\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 11]]);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleCancel = /*#__PURE__*/function () {\n    var _ref2 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2() {\n      return regenerator_default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setCurrentData(null);\n              setOpenForm(false);\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleCancel() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref3 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(id) {\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return Object(service[\"e\" /* remove */])(\"\".concat(labels[\"p\" /* LOTES */].route), id);\n\n            case 3:\n              setError(null);\n              _context3.next = 9;\n              break;\n\n            case 6:\n              _context3.prev = 6;\n              _context3.t0 = _context3[\"catch\"](0);\n              setError('onDelete');\n\n            case 9:\n              mutate();\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 6]]);\n    }));\n\n    return function handleDelete(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var onEdit = /*#__PURE__*/function () {\n    var _ref4 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(data) {\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              setOpenForm(false);\n              setCurrentData(data);\n              setOpenForm(true);\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function onEdit(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var handleChangePagination = function handleChangePagination(pagination) {\n    setPage(pagination.page);\n    setPageSize(pagination.pageSize);\n  };\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ActionBar[\"a\" /* default */], {\n      actions: []\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */], {\n      p: 2,\n      m: 1,\n      children: [openForm && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LotesForm, {\n        data: currentData,\n        handleSubmit: handleSubmit,\n        handleCancel: handleCancel\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LotesList, {\n        data: data,\n        handleDelete: handleDelete,\n        onEdit: onEdit,\n        onReload: function onReload() {\n          mutate();\n        },\n        onPaginationChange: handleChangePagination\n      })]\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Loading[\"a\" /* default */], {\n      loading: !data,\n      message: Object(labels[\"n\" /* LOADING */])(labels[\"p\" /* LOTES */].name)\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Alert[\"a\" /* default */], {\n      open: errotOnGet || error,\n      severity: \"error\",\n      message: error ? labels[\"k\" /* ERRORS */][error](labels[\"p\" /* LOTES */].name) : labels[\"k\" /* ERRORS */].onGet(labels[\"p\" /* LOTES */].name)\n    })]\n  });\n}\n// CONCATENATED MODULE: ./pages/lotes.tsx\n\n\n\n\nfunction LotesPage() {\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Layout[\"a\" /* default */], {\n    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Lotes, {})\n  });\n}\n\n/***/ })\n\n},[[\"T3kU\",0,2,9,8,1,3,6,5,4,7,10]]]);","inputSourceMap":{"version":3,"sources":["/reintegros/reintegros-frontend/node_modules/@material-ui/icons/Add.js","/reintegros/reintegros-frontend/node_modules/@material-ui/icons/CloudDownload.js","/reintegros/reintegros-frontend/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Flotes&absolutePagePath=private-next-pages%2Flotes.tsx!","/reintegros/reintegros-frontend/node_modules/@material-ui/icons/Save.js","/reintegros/reintegros-frontend/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/reintegros/reintegros-frontend/components/lotes/FormConfig.tsx","/reintegros/reintegros-frontend/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/reintegros/reintegros-frontend/components/lotes/LotesForm.tsx","/reintegros/reintegros-frontend/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/reintegros/reintegros-frontend/components/lotes/LotesList.tsx","/reintegros/reintegros-frontend/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/reintegros/reintegros-frontend/components/lotes/Lotes.tsx","/reintegros/reintegros-frontend/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/reintegros/reintegros-frontend/pages/lotes.tsx"],"names":[],"mappings":";;;;;;;AAAa;;AAEb,6BAA6B,mBAAO,CAAC,MAA8C;;AAEnF,8BAA8B,mBAAO,CAAC,MAA+C;;AAErF;AACA;AACA,CAAC;AACD;;AAEA,oCAAoC,mBAAO,CAAC,MAAO;;AAEnD,4CAA4C,mBAAO,CAAC,MAAuB;;AAE3E;AACA;AACA,CAAC;;AAED,2B;;;;;;;;ACnBa;;AAEb,6BAA6B,mBAAO,CAAC,MAA8C;;AAEnF,8BAA8B,mBAAO,CAAC,MAA+C;;AAErF;AACA;AACA,CAAC;AACD;;AAEA,oCAAoC,mBAAO,CAAC,MAAO;;AAEnD,4CAA4C,mBAAO,CAAC,MAAuB;;AAE3E;AACA;AACA,CAAC;;AAED,2B;;;;;;;;AClBA;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAA8B;AACvD;AACA;;;;;;;;;ACNa;;AAEb,6BAA6B,mBAAO,CAAC,MAA8C;;AAEnF,8BAA8B,mBAAO,CAAC,MAA+C;;AAErF;AACA;AACA,CAAC;AACD;;AAEA,oCAAoC,mBAAO,CAAC,MAAO;;AAEnD,4CAA4C,mBAAO,CAAC,MAAuB;;AAE3E;AACA;AACA,CAAC;;AAED,2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBqC;AACY;AACjD;AACA;AACA;AACA,QAAQ,8BAAS;AACjB,SAAS,uBAAK;AACd;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,CAAC;AACc,0DAAW,E;;ACdsB;AACR;AACd;AACS;AACI;AACxB;AACf;AACA;AACA;AACA,sBAAsB,0BAAI,CAAC,sBAAG;AAC9B;AACA;AACA,2BAA2B,0BAAI,CAAC,uBAAI;AACpC,cAAc,UAAW;AACzB;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH,C;;;;;;;;;;;;;;;;ACnBgD;AACuF;AACX;AACe;;AAE3I,0CAA0C,gCAAgC,oCAAoC,oDAAoD,8DAA8D,gEAAgE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEnV,gCAAgC,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,uDAAuD,CAAC,yCAAe,2BAA2B,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,iDAAiD,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAE5e;AACH;AACD;AAC6B;AACtB;AACE;AAC9B;AACf;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,yBAAQ;AAC1B;AACA;;AAEA,4BAA4B,uBAAK;AACjC;;AAEA;AACA,aAAa,uBAAK;AAClB;AACA,oCAAoC,uBAAK;AACzC;AACA,GAAG;;AAEH,mBAAmB,yBAAQ;AAC3B;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,gBAAgB,2CAAiB,eAAe,qBAAmB;AACnE;AACA,aAAa,qBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA,qBAAqB,+BAAI;AACzB;AACA;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA,gBAAgB,2CAAiB,eAAe,qBAAmB;AACnE;AACA,aAAa,qBAAmB;AAChC;AACA;AACA;AACA;AACA,qBAAqB,+BAAI;AACzB;AACA;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,qDAAqD;AACrD;;AAEA,sBAAsB,0BAAI,CAAC,wBAAK;AAChC;AACA;AACA;AACA,WAAW,uBAAK;AAChB;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,qDAAqD,iBAAiB;AACtE;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,qDAAqD,iBAAiB;AACtE;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,8BAA8B,0BAAI,CAAC,aAAO,IAAI;AAC9C,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,8BAA8B,0BAAI,CAAC,uBAAiB,IAAI;AACxD,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL,GAAG;AACH,C;;;;;;;;;;;;;;;AC5K0D;AACR;AAC0E;AACW;AACI;AAC3F;;AAEhD,SAAS,aAAO,0BAA0B,gCAAgC,oCAAoC,oDAAoD,8DAA8D,gEAAgE,EAAE,EAAE,gCAAgC,EAAE,aAAa;;AAEnV,SAAS,kBAAa,UAAU,gBAAgB,sBAAsB,OAAO,uDAAuD,aAAa,CAAC,aAAO,+CAA+C,CAAC,yCAAe,2BAA2B,EAAE,EAAE,EAAE,6CAA6C,2EAA2E,EAAE,OAAO,CAAC,aAAO,yCAAyC,kFAAkF,EAAE,EAAE,EAAE,EAAE,eAAe;;AAE5e;AACA;AACf;AACW;AACA;AACoB;AAChB;AACuB;AAC3B;AACQ;AACG;AAChC;AACf,kBAAkB,yBAAQ;AAC1B;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA,gBAAgB,8BAAM,WAAW,uBAAK;AACtC;AACA;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA,mBAAmB,yBAAQ;AAC3B;AACA;;AAEA;AACA,WAAW,yBAAO,OAAO,uBAAK;AAC9B;AACA;AACA,KAAK;AACL,uBAAuB,0BAAI,CAAC,cAAQ,IAAI;AACxC,GAAG;;AAEH;AACA,eAAe,2CAAiB,eAAe,qBAAmB;AAClE,aAAa,qBAAmB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,8BAAG,CAAC,uBAAK,QAAQ,kBAAa,GAAG;;AAEtD;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,+BAAI,CAAC,uBAAK,QAAQ,kBAAa,GAAG;;AAEvD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAe;AACf;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA,gBAAgB,2CAAiB,eAAe,qBAAmB;AACnE,aAAa,qBAAmB;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA,gBAAgB,2CAAiB,eAAe,qBAAmB;AACnE,aAAa,qBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA,qBAAqB,iCAAM,WAAW,uBAAK;;AAE3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA,gBAAgB,2CAAiB,eAAe,qBAAmB;AACnE,aAAa,qBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA,sBAAsB,2BAAK,CAAC,uBAAS;AACrC,4BAA4B,0BAAI,CAAC,4BAAS;AAC1C;AACA,KAAK,gBAAgB,2BAAK,CAAC,sBAAG;AAC9B;AACA;AACA,0CAA0C,0BAAI,CAAC,SAAS;AACxD;AACA;AACA;AACA,OAAO,gBAAgB,0BAAI,CAAC,SAAS;AACrC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP,KAAK,gBAAgB,0BAAI,CAAC,0BAAO;AACjC;AACA,eAAe,iCAAO,CAAC,uBAAK;AAC5B,KAAK,gBAAgB,0BAAI,CAAC,wBAAK;AAC/B;AACA;AACA,uBAAuB,wBAAM,QAAQ,uBAAK,SAAS,wBAAM,OAAO,uBAAK;AACrE,KAAK;AACL,GAAG;AACH,C;;ACnOgD;AACtB;AAC8B;AACV;AAC/B;AACf,sBAAsB,0BAAI,CAAC,yBAAM;AACjC,2BAA2B,0BAAI,CAAC,KAAK,IAAI;AACzC,GAAG;AACH,C","file":"x","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\n}), 'Add');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM17 13l-5 5-5-5h3V9h4v4h3z\"\n}), 'CloudDownload');\n\nexports.default = _default;","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/lotes\",\n        function () {\n          return require(\"private-next-pages/lotes.tsx\");\n        }\n      ]);\n    ","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;","import { LOTES } from '../../labels';\nimport { FieldType } from '../builder/FormField';\nvar configLotes = [//form fields here\n{\n  name: 'example',\n  type: FieldType[\"int\"],\n  label: LOTES.fields['example'],\n  styling: {\n    columns: 4\n  },\n  rules: {\n    required: true\n  }\n}];\nexport default configLotes;","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Box } from '@material-ui/core';\nimport React from 'react';\nimport Form from '../builder/Form';\nimport configLotes from './FormConfig';\nexport default function LotesForm(_ref) {\n  var handleSubmit = _ref.handleSubmit,\n      data = _ref.data,\n      handleCancel = _ref.handleCancel;\n  return /*#__PURE__*/_jsx(Box, {\n    p: 2,\n    m: 1,\n    children: /*#__PURE__*/_jsx(Form, {\n      config: configLotes,\n      data: data,\n      onSubmit: handleSubmit,\n      onCancel: handleCancel\n    })\n  });\n}","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/reintegros/reintegros-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/reintegros/reintegros-frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/reintegros/reintegros-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport { LOTES } from '../../labels';\nimport Table from '../common/Table';\nimport CloudDownloadIcon from '@material-ui/icons/CloudDownload';\nimport { send } from '../api-call/service';\nimport AddIcon from '@material-ui/icons/Add';\nexport default function LotesList(_ref) {\n  var data = _ref.data,\n      handleDelete = _ref.handleDelete,\n      onEdit = _ref.onEdit,\n      onReload = _ref.onReload,\n      onPaginationChange = _ref.onPaginationChange;\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var columns = Object.keys(LOTES.fields).map(function (key) {\n    var _LOTES$renders$key;\n\n    return {\n      title: LOTES.fields[key],\n      field: key,\n      render: (_LOTES$renders$key = LOTES.renders[key]) !== null && _LOTES$renders$key !== void 0 ? _LOTES$renders$key : null\n    };\n  });\n\n  var _useState2 = useState({\n    page: 1,\n    pageSize: 20\n  }),\n      pagination = _useState2[0],\n      setPagination = _useState2[1];\n\n  var crearArchivoPo = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(rowData) {\n      var archivoPo;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.next = 3;\n              return send({\n                url: \"api/lote/\".concat(rowData.id, \"/crear-archivo-po\"),\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                }\n              });\n\n            case 3:\n              archivoPo = _context.sent;\n              setLoading(false);\n              onReload && onReload();\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function crearArchivoPo(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var descargarArchivoPo = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(rowData) {\n      var archivo_po, path_file, file_name, element, file;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return send({\n                url: \"api/archivo-po/\".concat(rowData.archivos_po[0].id, \"/descargar-archivo\"),\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'text/plain'\n                }\n              });\n\n            case 2:\n              archivo_po = _context2.sent;\n              path_file = rowData.archivos_po[0].archivo.split('/');\n              file_name = path_file[path_file.length - 1];\n              element = document.createElement('a');\n              file = new Blob([archivo_po.data], {\n                type: 'text/plain'\n              });\n              element.href = URL.createObjectURL(file);\n              element.download = file_name;\n              document.body.appendChild(element);\n              element.click();\n\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function descargarArchivoPo(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var reloadPagination = function reloadPagination(pagData) {\n    setPagination(pagData);\n    onPaginationChange(_objectSpread(_objectSpread({}, pagination), pagData));\n  };\n\n  return /*#__PURE__*/_jsx(Table, {\n    columns: columns,\n    totalCount: data === null || data === void 0 ? void 0 : data.count,\n    data: data === null || data === void 0 ? void 0 : data.results,\n    title: LOTES.name,\n    options: {\n      search: false\n    },\n    pagination: {\n      page: pagination.page - 1,\n      pageSize: pagination.pageSize\n    },\n    onPageChange: function onPageChange(page, pageSize) {\n      reloadPagination(_objectSpread(_objectSpread({}, pagination), {}, {\n        page: page + 1,\n        pageSize: pageSize\n      }));\n    },\n    onChangeRowsPerPage: function onChangeRowsPerPage(pageSize) {\n      reloadPagination(_objectSpread(_objectSpread({}, pagination), {}, {\n        pageSize: pageSize\n      }));\n    },\n    actions: [function (rowData) {\n      return {\n        icon: function icon() {\n          return /*#__PURE__*/_jsx(AddIcon, {});\n        },\n        tooltip: 'Crear archivo PO',\n        onClick: function onClick(event, rowData) {\n          return crearArchivoPo(rowData);\n        },\n        disabled: rowData.archivos_po.length > 0 || loading ? true : false\n      };\n    }, function (rowData) {\n      return {\n        icon: function icon() {\n          return /*#__PURE__*/_jsx(CloudDownloadIcon, {});\n        },\n        tooltip: 'Descargar archivo PO',\n        onClick: function onClick(event, rowData) {\n          return descargarArchivoPo(rowData);\n        },\n        disabled: rowData.archivos_po.length == 0 ? true : false\n      };\n    }]\n  });\n}","import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/reintegros/reintegros-frontend/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"/reintegros/reintegros-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"/reintegros/reintegros-frontend/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { Box } from '@material-ui/core';\nimport React, { useState } from 'react';\nimport useSWR from 'swr';\nimport LotesForm from './LotesForm';\nimport LotesList from './LotesList';\nimport { post, put, remove } from '../api-call/service';\nimport Loading from '../common/Loading';\nimport { ACTIONS, ERRORS, LOADING, LOTES } from '../../labels';\nimport Alert from '../common/Alert';\nimport ActionBar from '../common/ActionBar';\nimport SaveIcon from '@material-ui/icons/Save';\nexport default function Lotes() {\n  var _useState = useState(1),\n      page = _useState[0],\n      setPage = _useState[1];\n\n  var _useState2 = useState(20),\n      pageSize = _useState2[0],\n      setPageSize = _useState2[1];\n\n  var _useSWR = useSWR(\"\".concat(LOTES.route, \"?page=\").concat(page, \"&size=\").concat(pageSize)),\n      data = _useSWR.data,\n      errotOnGet = _useSWR.error,\n      mutate = _useSWR.mutate;\n\n  var _useState3 = useState(false),\n      openForm = _useState3[0],\n      setOpenForm = _useState3[1];\n\n  var _useState4 = useState(null),\n      error = _useState4[0],\n      setError = _useState4[1];\n\n  var _useState5 = useState(null),\n      currentData = _useState5[0],\n      setCurrentData = _useState5[1];\n\n  var lotesActions = [{\n    label: ACTIONS.crete(LOTES.name),\n    onClick: function onClick() {\n      return setOpenForm(!openForm);\n    },\n    icon: /*#__PURE__*/_jsx(SaveIcon, {})\n  }];\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n\n              if (!(currentData !== null && currentData !== void 0 && currentData.id)) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 4;\n              return put(LOTES.route, _objectSpread({}, data), currentData === null || currentData === void 0 ? void 0 : currentData.id);\n\n            case 4:\n              _context.next = 8;\n              break;\n\n            case 6:\n              _context.next = 8;\n              return post(LOTES.route, _objectSpread({}, data));\n\n            case 8:\n              setError(null);\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](0);\n\n              if (currentData !== null && currentData !== void 0 && currentData.id) {\n                setError('onEdit');\n              } else {\n                setError('onCreate');\n              }\n\n            case 14:\n              setCurrentData(null);\n              setOpenForm(false);\n              mutate();\n\n            case 17:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 11]]);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var handleCancel = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setCurrentData(null);\n              setOpenForm(false);\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleCancel() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var handleDelete = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id) {\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              _context3.next = 3;\n              return remove(\"\".concat(LOTES.route), id);\n\n            case 3:\n              setError(null);\n              _context3.next = 9;\n              break;\n\n            case 6:\n              _context3.prev = 6;\n              _context3.t0 = _context3[\"catch\"](0);\n              setError('onDelete');\n\n            case 9:\n              mutate();\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[0, 6]]);\n    }));\n\n    return function handleDelete(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var onEdit = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(data) {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              setOpenForm(false);\n              setCurrentData(data);\n              setOpenForm(true);\n\n            case 3:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function onEdit(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var handleChangePagination = function handleChangePagination(pagination) {\n    setPage(pagination.page);\n    setPageSize(pagination.pageSize);\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(ActionBar, {\n      actions: []\n    }), /*#__PURE__*/_jsxs(Box, {\n      p: 2,\n      m: 1,\n      children: [openForm && /*#__PURE__*/_jsx(LotesForm, {\n        data: currentData,\n        handleSubmit: handleSubmit,\n        handleCancel: handleCancel\n      }), /*#__PURE__*/_jsx(LotesList, {\n        data: data,\n        handleDelete: handleDelete,\n        onEdit: onEdit,\n        onReload: function onReload() {\n          mutate();\n        },\n        onPaginationChange: handleChangePagination\n      })]\n    }), /*#__PURE__*/_jsx(Loading, {\n      loading: !data,\n      message: LOADING(LOTES.name)\n    }), /*#__PURE__*/_jsx(Alert, {\n      open: errotOnGet || error,\n      severity: \"error\",\n      message: error ? ERRORS[error](LOTES.name) : ERRORS.onGet(LOTES.name)\n    })]\n  });\n}","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Layout from '../components/common/Layout/Layout';\nimport Lotes from '../components/lotes/Lotes';\nexport default function LotesPage() {\n  return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsx(Lotes, {})\n  });\n}"]}}