_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{"+fqU":function(e,t){},"0WKb":function(e,t,a){"use strict";var n=a("q1tI"),r=a("5AJ6");t.a=Object(r.a)(n.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},"1waj":function(e,t,a){"use strict";var n=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("q1tI")),o=(0,n(a("8/g6")).default)(i.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.default=o},"3Qh7":function(e,t,a){"use strict";var n=a("q1tI"),r=a("5AJ6");t.a=Object(r.a)(n.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},FrwU:function(e,t,a){"use strict";var n=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("q1tI")),o=(0,n(a("8/g6")).default)(i.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.default=o},HsiY:function(e,t,a){"use strict";var n=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("q1tI")),o=(0,n(a("8/g6")).default)(i.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");t.default=o},LY0y:function(e,t){(function(t){e.exports=function(){var e={880:function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}},a={};function n(t){if(a[t])return a[t].exports;var r=a[t]={exports:{}},i=!0;try{e[t](r,r.exports,n),i=!1}finally{i&&delete a[t]}return r.exports}return n.ab=t+"/",n(880)}()}).call(this,"/")},dRS1:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return Ge}));var n=a("nKUr"),r=a("q1tI"),i=a.n(r),o=a("mAZ4"),c=a("vJKn"),l=a.n(c),s=a("rg98"),u=a("xvhg"),d=a("cpVT"),p=a("VtrM"),f=a("hlFM"),b=a("z7pX"),j=a("3Qh7"),v=a("1waj"),m=a.n(v),h=a("s0P7"),O=a.n(h),y=a("DPVN"),g=a("rIeG"),x=a("R/WZ"),w=a("hlie"),P=a("PsDL"),S=a("Ji2X"),C=a("ofer"),k=a("tRbT"),T=a("0WKb"),F=a("EAZb"),E=a("sWYD"),V=Object(x.a)((function(e){return{detail:{backgroundColor:"#eae8e8",paddingBottom:"15px"},container:{margin:"0 15px",width:"100%",maxWidth:"100%"}}}));function A(e){var t,a,i,o=e.solicitud,c=e.prestaciones,u=e.header,d=e.step,p=e.onEditPrestacion,b=e.form,j=Object(r.useState)(""),v=j[0],m=j[1],h=Object(r.useState)(""),x=h[0],A=h[1],D=Object(r.useState)(c),N=D[0],q=(D[1],V()),_="https://apistaging.ipross.rionegro.gov.ar/".substring(0,"https://apistaging.ipross.rionegro.gov.ar/".length-1),z=Object(r.useState)([]),M=z[0],I=z[1],B=Object(F.g)(),H={factura:function(e){var t,a,r,i;return null!==e&&void 0!==e&&null!==(t=e.solicitud)&&void 0!==t&&null!==(a=t.factura)&&void 0!==a&&a.archivo?Object(n.jsx)(w.a,{href:"".concat(_).concat(null===e||void 0===e||null===(r=e.solicitud)||void 0===r||null===(i=r.factura)||void 0===i?void 0:i.archivo),target:"_blank",children:Object(n.jsx)(P.a,{color:"primary","aria-label":"factura",component:"span",children:Object(n.jsx)(O.a,{})})}):Object(n.jsx)(P.a,{color:"primary","aria-label":"factura",component:"span",onClick:Object(s.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===b||void 0===b||null===(t=b.solicitud)||void 0===t?void 0:t.factura[0]){e.next=3;break}return e.abrupt("return",!1);case 3:a.arrayBuffer().then((function(e){var t=new Blob([new Uint8Array(e)],{type:a.type}),n=document.createElement("a");n.href=URL.createObjectURL(t),n.download="factura",document.body.appendChild(n),n.click()}));case 4:case"end":return e.stop()}}),e)}))),children:Object(n.jsx)(O.a,{})})},adjuntos:function(e){var t;return null===(t=e.adjuntos)||void 0===t?void 0:t.map((function(e,t){return Object(n.jsx)(w.a,{href:"".concat(_).concat(e.archivo),target:"_blank",children:Object(n.jsx)(P.a,{color:"primary","aria-label":"factura",component:"span",children:Object(n.jsx)(O.a,{})})})}))},cud:function(e){var t;return"Si"===(null===o||void 0===o?void 0:o.discapacitado)||"true"===(null===o||void 0===o?void 0:o.discapacitado)?null===o||void 0===o||null===(t=o.afiliado)||void 0===t?void 0:t.cud:""},discapacitado:function(e){return"Si"===(null===o||void 0===o?void 0:o.discapacitado)||"true"===(null===o||void 0===o?void 0:o.discapacitado)?"Si":"No"},fechaPractica:function(e){return Object(E.a)(Object(F.s)(e.fechaPractica),"dd/MM/yyyy")},fechaPracticaHasta:function(e){return e.fechaPracticaHasta?Object(E.a)(Object(F.s)(e.fechaPracticaHasta),"dd/MM/yyyy"):""}};Object(r.useEffect)((function(){var e,t=null===B||void 0===B||null===(e=B.delegaciones)||void 0===e?void 0:e.find((function(e){return e.id===(null===o||void 0===o?void 0:o.delegacion)}));m(null===t||void 0===t?void 0:t.nombre);var a=y.y.optionsEstadoActual.find((function(e){return e.value===(null===o||void 0===o?void 0:o.estadoActual)}));A(null===a||void 0===a?void 0:a.label),p&&I([{icon:function(){return Object(n.jsx)(T.a,{})},tooltip:y.b.update(y.y.editPrestaciones),onClick:function(e,t){R(t)}}])}),[o]);var R=function(e){p&&p(e)};return Object(n.jsx)("div",{className:q.detail,children:Object(n.jsxs)(S.a,{className:q.container,children:[o&&u&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(f.a,{children:[Object(n.jsx)(C.a,{variant:"h5",gutterBottom:!0,children:d.title}),Object(n.jsx)(C.a,{variant:"subtitle1",gutterBottom:!0,children:d.description})]}),Object(n.jsxs)(k.a,{container:!0,spacing:3,children:[Object(n.jsxs)(k.a,{item:!0,xs:2,children:[Object(n.jsx)(C.a,{color:"textSecondary",variant:"overline",display:"block",gutterBottom:!0,children:y.y.fields.delegacionNombre}),Object(n.jsx)(C.a,{color:"textPrimary",variant:"body1",display:"block",gutterBottom:!0,children:v})]}),Object(n.jsxs)(k.a,{item:!0,xs:2,children:[Object(n.jsx)(C.a,{color:"textSecondary",variant:"overline",display:"block",gutterBottom:!0,children:y.y.fields["afiliado.codigo"]}),Object(n.jsx)(C.a,{color:"textPrimary",variant:"body1",display:"block",gutterBottom:!0,children:null===(t=o.afiliado)||void 0===t?void 0:t.codigo})]}),Object(n.jsxs)(k.a,{item:!0,xs:2,children:[Object(n.jsx)(C.a,{color:"textSecondary",variant:"overline",display:"block",gutterBottom:!0,children:y.y.fields.estadoActual}),Object(n.jsx)(C.a,{color:"textPrimary",variant:"body1",display:"block",gutterBottom:!0,children:x})]}),Object(n.jsxs)(k.a,{item:!0,xs:2,children:[Object(n.jsx)(C.a,{color:"textSecondary",variant:"overline",display:"block",gutterBottom:!0,children:y.y.fields.fechaAlta}),Object(n.jsx)(C.a,{color:"textPrimary",variant:"body1",display:"block",gutterBottom:!0,children:o.fechaAlta?Object(E.a)(new Date(o.fechaAlta),"dd/MM/yyyy"):""})]}),Object(n.jsxs)(k.a,{item:!0,xs:2,children:[Object(n.jsx)(C.a,{color:"textSecondary",variant:"overline",display:"block",gutterBottom:!0,children:y.y.fields.tipo}),Object(n.jsx)(C.a,{color:"textPrimary",variant:"body1",display:"block",gutterBottom:!0,children:null===(a=y.y.optionsType.find((function(e){return e.value===(null===o||void 0===o?void 0:o.tipo)})))||void 0===a?void 0:a.label})]}),Object(n.jsxs)(k.a,{item:!0,xs:2,children:[Object(n.jsx)(C.a,{color:"textSecondary",variant:"overline",display:"block",gutterBottom:!0,children:y.y.fields.discapacitado}),Object(n.jsx)(C.a,{color:"textPrimary",variant:"body1",display:"block",gutterBottom:!0,children:"true"===(null===o||void 0===o?void 0:o.discapacitado)?"Si - ".concat(null===o||void 0===o||null===(i=o.afiliado)||void 0===i?void 0:i.cud):"No"})]})]})]}),N&&Object(n.jsx)(g.default,{columns:Object.keys(y.w.cols).map((function(e){var t,a;return{title:y.w.cols[e],field:e,render:null!==(t=null!==(a=H[e])&&void 0!==a?a:y.w.renders[e])&&void 0!==t?t:null}})),totalCount:N.length,data:N,title:y.w.name,options:{search:!1},pageSize:N.length,paging:!1,actions:M})]})})}var D=a("G633"),N=a("uXqp"),q=a("eD//"),_=a("tVbE"),z=a("IsqK"),M=a("wb2y"),I=a("//uY"),B=a("HsiY"),H=a.n(B),R=Object(x.a)((function(e){return{colorCount:{color:"black",marginLeft:"8px"},colorError:{color:"#CC3A3A"},colorTextCorrect:{color:"#44B177"},icon:{marginRight:"10px",color:"#ECB904"}}}));function L(e){var t=e.data,a=(e.solicitudes,R()),r=function(){for(var e=0,a=0;a<t.length;a++)t[a].isValid&&(e+=1);return e};return Object(n.jsxs)(f.a,{alignContent:"space-between",children:[Object(n.jsxs)(f.a,{display:"flex",justifyContent:"space-between",children:[Object(n.jsx)(f.a,{children:Object(n.jsx)(C.a,{children:y.y.modalCreateCupones.subTitle})}),Object(n.jsx)(f.a,{display:"flex",justifyContent:"space-between",children:Object(n.jsxs)(C.a,{className:a.colorError,children:["Solicitudes incorrectas",Object(n.jsx)("span",{className:a.colorCount,children:"".concat(function(){for(var e=0,a=0;a<t.length;a++)t[a].isValid||(e+=1);return e}())})]})}),Object(n.jsx)(f.a,{display:"flex",children:Object(n.jsxs)(C.a,{className:a.colorTextCorrect,children:["Solicitudes correctas",Object(n.jsx)("span",{className:a.colorCount,children:"".concat(r())})]})})]}),Object(n.jsxs)(f.a,{display:"flex",children:[Object(n.jsx)(H.a,{className:a.icon}),Object(n.jsx)(C.a,{children:y.y.modalCreateCupones.subTitle2(r())})]})]})}var U=a("wnzQ");function W(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function J(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?W(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):W(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function G(e){var t,a,i=e.data,o=e.handleDelete,c=(e.onEdit,e.onShowStepper),u=e.onPaginationChange,d=e.onFilter,p=e.onEditPrestacion,v=e.onExport,h=Object(r.useState)(!1),x=h[0],S=h[1],k=Object(r.useState)([]),T=k[0],E=k[1],V=Object(r.useState)(null),B=V[0],H=V[1],R=Object(r.useState)(!1),W=R[0],G=R[1],Z=Object(r.useState)(null),K=Z[0],X=Z[1],Y=Object(r.useState)(null),Q=Y[0],$=Y[1],ee=Object(r.useState)({page:1,pageSize:20}),te=ee[0],ae=ee[1],ne={"factura.id":function(e){var t;if(null!==(t=e.factura)&&void 0!==t&&t.archivo){var a="https://apistaging.ipross.rionegro.gov.ar/".substring(0,"https://apistaging.ipross.rionegro.gov.ar/".length-1);return Object(n.jsx)(w.a,{href:"".concat(a).concat(e.factura.archivo),target:"_blank",children:Object(n.jsx)(P.a,{color:"primary","aria-label":"factura",component:"span",children:Object(n.jsx)(O.a,{})})})}}},re=Object.keys(y.y.fields).map((function(e){var t,a;return{title:y.y.fields[e],field:e,render:null!==(t=null!==(a=ne[e])&&void 0!==a?a:y.y.renders[e])&&void 0!==t?t:null}})),ie=function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(null),$(null),i=t.map((function(e){return e.id})),e.prev=3,e.next=6,Object(D.f)({url:"api/cupon/verificar",data:{solicitudes:i},method:"POST",headers:{"Content-Type":"application/json"}});case 6:a=e.sent,S(!0),H(t),E(a.data.results),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),$("Error");case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(s.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return X(null),$(null),t=[],T.forEach((function(e){t.push(e.solicitud.id)})),G(!0),e.prev=5,e.next=8,Object(D.f)({url:"api/cupon/",data:{solicitudes:t},method:"POST",headers:{"Content-Type":"application/json"}});case 8:0===(a=e.sent).data.count?$(y.y.messages.errorCreateCupones):X(y.y.messages.successCreateCupones(a.data.count)),S(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),$("Error");case 16:return e.prev=16,G(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[5,13,16,19]])})));return function(){return e.apply(this,arguments)}}(),ce=function(e){ae(e),u(J(J({},te),e))};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(g.default,{columns:re,totalCount:null===(t=i)||void 0===t?void 0:t.count,data:null===(a=i)||void 0===a?void 0:a.results,title:y.y.name,headerActions:function(){var e=[];return(Object(F.i)()||Object(F.o)()||Object(F.p)())&&(e=[{label:y.z.add,onClick:c,icon:Object(n.jsx)(m.a,{})}]),e}(),options:{search:!0,selection:!!Object(F.i)(),exportFileName:"Solicitudes",exportButton:{csv:!0,pdf:!1},exportAllData:!0,exportCsv:v},pagination:{page:te.page-1,pageSize:te.pageSize},onPageChange:function(e,t){ce(J(J({},te),{},{page:e+1,pageSize:t}))},onChangeRowsPerPage:function(e){ce(J(J({},te),{},{pageSize:e}))},actions:function(){var e=[];return Object(F.i)()&&(e=[].concat(Object(b.a)(e),[{icon:function(){return Object(n.jsx)(j.a,{})},tooltip:y.b.delete(y.y.name),onClick:function(){var e=Object(s.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.forEach((function(e){o(null===e||void 0===e?void 0:e.id)}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{icon:function(){return Object(n.jsx)(m.a,{})},tooltip:"Crear solicitudes de autorizaci\xf3n",onClick:function(){var e=Object(s.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie(a);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}])),e}(),onFilterClick:d,detailPanel:function(e){return Object(n.jsx)(A,{solicitud:e,header:!1,prestaciones:e.prestaciones,onEditPrestacion:p})},onSelectionChange:function(){}}),x&&T&&Object(n.jsxs)(N.a,{customClasses:{},open:!0,onClose:function(){return S(!x)},title:y.y.modalCreateCupones.mainTitle,breadcrumbs:"",subTitle:Object(n.jsx)(L,{data:T,solicitudes:B}),actions:!0,onAcept:oe,onCancel:function(){S(!1)},maxWidth:"md",children:[Object(n.jsx)(q.a,{children:T.map((function(e,t){if(!e.isValid)return Object(n.jsxs)(f.a,{children:[Object(n.jsx)(_.a,{children:Object(n.jsxs)(f.a,{children:[Object(n.jsx)(f.a,{fontWeight:"fontWeightBold",children:Object(n.jsx)(z.a,{primary:Object(n.jsx)(f.a,{fontWeight:"fontWeightBold",children:"Solicitud: ".concat(e.solicitud.id)})})}),Object(n.jsxs)(f.a,{display:"flex",flexDirection:"column",ml:5,children:[Object(n.jsx)(f.a,{children:Object(n.jsx)(z.a,{primary:"No es v\xe1lida",secondary:Object(n.jsx)(C.a,{color:"error",children:"Errores:"})})}),Object(n.jsx)(f.a,{display:"flex",flexDirection:"column",children:e.errors.map((function(e,t){return Object(n.jsx)(z.a,{children:"- ".concat(e)},t)}))})]})]})}),Object(n.jsx)(M.a,{})]},t)}))}),Object(n.jsx)(I.a,{loading:0==T.length||W,message:y.y.messages.loading})]}),Object(n.jsx)(U.a,{open:null!==K&&void 0!==K?K:Q,severity:Q?"error":"success",message:K||Q,autoHideAfter:5500,onClose:function(){X(null),$(null)}})]})}var Z=a("GmM6"),K=a("kGC+"),X=a("NKCw"),Y=a("olcQ"),Q=a("KPTR"),$=a("P4MJ"),ee=a("Z3vd"),te=a("LvDl"),ae=a.n(te),ne=a("4+6U"),re=a("ZBNC"),ie=Object(x.a)((function(e){return Object(re.a)({root:{},stepperButtons:{marginTop:10,display:"flex",justifyContent:"flex-end"},button:{margin:3,marginLeft:"15px"},buttonNext:{margin:3,color:"#fff"},form:{marginTop:12},formContainer:{backgroundColor:"#fff",padding:"20px",marginBottom:"20px"},stepLabel:{"& > .MuiStepLabel-iconContainer > .MuiSvgIcon-root > .MuiStepIcon-text":{fill:"#fff",fontSize:"14px"}},facturaPreview:{width:"100%",padding:"15px",boxShadow:"0px 0px 4px rgb(0 0 0 / 25%)"},removeFactura:{marginLeft:"10px"},afiliadoDetail:{marginTop:"25px","& h6":{fontSize:"14px"},paddingLeft:"5px"},tipoCuenta:{padding:"20px 20px 0",position:"relative","& .MuiFormGroup-root":{display:"block"}},tipoCuentaSelect:{marginTop:"25px"},tipoHelp:{position:"absolute",top:"18px",right:"0",padding:"5px","& .MuiSvgIcon-root":{width:".6em",height:".6em",fontSize:"1.2em"}}})})),oe=a("41Bj"),ce=a("cTyz"),le=[{name:"delegacion",type:ce.a.options,label:y.y.fields.delegacionNombre,options:Object(F.h)(),styling:{columns:3},rules:{required:!0}},{name:"fechaAlta",type:ce.a.date,label:y.y.fields.fechaAlta,disabled:!0,styling:{columns:3},rules:{required:!0}}];function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var de=Object(x.a)((function(e){return{afiliadoField:{display:"None"},afiliadoSearch:{paddingLeft:"10px"},afiliadoDetail:{"& h6":{fontSize:"14px"}},disabledField:{padding:"20px 30px 0",position:"relative","& .MuiFormGroup-root":{display:"block"}},cudField:{marginTop:"15px","& input":{"&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0}}},cudEditBtn:{padding:"8px",right:"9px"},cudEditIcon:{fontSize:".8em"},cudError:{fontSize:"14px"}}}));function pe(e){var t,a,i,o=e.form,c=e.onSelect,u=e.formContent,d=Object(r.useState)(""),p=d[0],f=d[1],b=Object(r.useState)((null===u||void 0===u||null===(t=u.solicitud)||void 0===t?void 0:t.afiliado)||null),j=b[0],v=b[1],m=de(),h=Object(r.useState)(null),O=h[0],g=h[1],x=Object(r.useState)(!0),w=x[0],S=x[1],E=Object(r.useState)(null===u||void 0===u||null===(a=u.solicitud)||void 0===a?void 0:a.discapacitado),V=E[0],A=E[1],N={name:"numeroAfiliado",type:ce.a.string,label:"Nro. Afiliado",help:"Formato xx-xxxxxxxx/xx",onChange:function(){var e=Object(s.a)(l.a.mark((function e(t,a){var n,r,i,s,u,d,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=/^[0-9]{2}-[0-9]{8}\/[0-9]{2}$/,i=t.match(r),s=null,f(""),v(null),!i){e.next=17;break}return e.prev=6,e.next=9,Object(D.f)({url:"api/verificar/afiliado",data:{afiliado:t},method:"POST",headers:{"Content-Type":"application/json"}});case 9:(u=e.sent).data.afiliado?s=u.data.afiliado:(s=null,f("Un error")),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(6),s=null,null!==(d=e.t0.response)&&void 0!==d&&null!==(p=d.data)&&void 0!==p&&p.message?f(e.t0.response.data.message):f("Error consultando afiliado");case 17:o.setValue("afiliado",s),o.setValue("cud",(null===(n=s)||void 0===n?void 0:n.cud)||""),v(s),c(s);case 21:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,a){return e.apply(this,arguments)}}(),styling:{columns:3},rules:{required:!0}},q={name:"afiliado",type:ce.a.string,label:y.y.fields.afiliado,styling:{columns:3},rules:{required:!0},disable:!0},_={name:"cud",type:ce.a.int,label:y.y.fields.cud,styling:{columns:3},rules:{required:!1,max:9999999999},disabled:w,onBlur:function(){var e=Object(s.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!1),t){e.next=3;break}return e.abrupt("return",!1);case 3:if(!(parseInt(t)>_.rules.max)){e.next=6;break}return g("El valor no ser mayor a "+_.rules.max),e.abrupt("return",!1);case 6:M(t);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),suffix:Object(n.jsx)(n.Fragment,{children:w&&Object(F.i)()&&Object(n.jsx)(P.a,{onClick:function(){S(!1)},color:"default",className:m.cudEditBtn,children:Object(n.jsx)(T.a,{className:m.cudEditIcon})})})},z={name:"discapacitado",type:ce.a.radio,label:y.y.fields.discapacitado,options:[{label:"Si",value:"true"},{label:"No",value:"false"}],styling:{columns:3},rules:{required:!1},onChange:function(e,t){A(e),c(j)}};Object(r.useEffect)((function(){Object(F.i)()&&S(!!(Object(F.i)()&&j&&j.cud))}),[j,S]);var M=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(null),e.prev=1,e.next=4,Object(D.f)({url:"api/verificar/cud",data:{afiliado:null===j||void 0===j?void 0:j.id,cud:t},method:"POST",headers:{"Content-Type":"application/json"}});case 4:e.sent,S(!0),c(ue(ue({},j),{},{cud:t})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),r=(null===(a=e.t0.response)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.message)||"Error validando CUD",g(r);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(k.a,{container:!0,spacing:2,children:[Object(n.jsx)(k.a,{item:!0,md:3,children:Object(n.jsx)("div",{className:m.afiliadoSearch,children:Object(n.jsx)(oe.a,{field:N,form:o,data:{numeroAfiliado:null===j||void 0===j?void 0:j.numeroAfiliado}})})}),Object(n.jsxs)(k.a,{item:!0,md:3,children:[Object(n.jsx)("div",{className:m.afiliadoField,children:Object(n.jsx)(oe.a,{field:q,form:o,data:{afiliado:j}})}),Object(n.jsxs)("div",{className:m.afiliadoDetail,children:[j&&Object(n.jsx)(oe.a,{form:o,field:{name:"afiliadoNombre",type:ce.a.string,label:"Afiliado",disabled:!0},data:{afiliadoNombre:j&&"".concat(null===j||void 0===j?void 0:j.nombre," ").concat(null===j||void 0===j?void 0:j.apellido)}}),p&&Object(n.jsx)(C.a,{component:"h6",color:"error",children:p})]})]})]}),Object(n.jsxs)(k.a,{container:!0,spacing:2,children:[Object(n.jsx)(k.a,{item:!0,md:3,children:Object(n.jsx)("div",{className:m.disabledField,children:Object(n.jsx)(oe.a,{field:z,form:o,data:{discapacitado:null===u||void 0===u||null===(i=u.solicitud)||void 0===i?void 0:i.discapacitado}})})}),"true"===V&&Object(n.jsxs)(k.a,{item:!0,md:3,children:[Object(n.jsx)("div",{className:m.cudField,children:Object(n.jsx)(oe.a,{field:_,form:o,data:{cud:null===j||void 0===j?void 0:j.cud}})}),O&&Object(n.jsx)(C.a,{component:"h6",color:"error",className:m.cudError,children:O})]})]})]})}var fe=a("csfp"),be=a("bhCh"),je=function(e){var t,a,i,o=e.formContent,c=e.step,u=Object(X.d)(),d=Object(r.useState)(null===o||void 0===o||null===(t=o.solicitud)||void 0===t?void 0:t.afiliado),p=d[0],j=d[1],v=Object(F.g)(),m=Object(r.useState)(null),h=m[0],O=m[1],g=Object(r.useState)(!1),x=g[0],w=g[1],S=Object(r.useState)([]),T=S[0],E=S[1],V=Object(r.useState)(null),A=(V[0],V[1],ie()),N={name:"tipo",type:ce.a.radio,label:y.y.fields.tipo,styling:{columns:3},rules:{required:!0},options:[{value:"judicial",label:"Si"},{value:"noJudicial",label:"No"}]},q=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(null),"cuentaAfiliado"===t&&(w(!1),O({nombre:null===p||void 0===p?void 0:p.nombre,apellido:null===p||void 0===p?void 0:p.apelido,cbu:null===p||void 0===p?void 0:p.cbu,cuitCuil:null===p||void 0===p?void 0:p.cuitCuil})),"cuentaJudicial"!==t||null===p||void 0===p||!p.cuentajudicial){e.next=14;break}return w(!1),e.prev=4,e.next=7,Object(D.f)({url:"api/cuenta-judicial/".concat(null===p||void 0===p?void 0:p.cuentajudicial),method:"GET",headers:{"Content-Type":"application/json"}});case 7:a=e.sent,O({nombre:null===a||void 0===a?void 0:a.data.nombre,apellido:null===a||void 0===a?void 0:a.data.apellido,cbu:null===a||void 0===a?void 0:a.data.cbu,cuitCuil:null===a||void 0===a?void 0:a.data.cuitCuil}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),w(!0);case 14:if("cuentaDeTerceros"!==t||null===p||void 0===p||!p.cuentadeterceros){e.next=26;break}return w(!1),e.prev=16,e.next=19,Object(D.f)({url:"api/cuenta-de-terceros/".concat(null===p||void 0===p?void 0:p.cuentadeterceros),method:"GET",headers:{"Content-Type":"application/json"}});case 19:n=e.sent,O({nombre:null===n||void 0===n?void 0:n.data.nombre,apellido:null===n||void 0===n?void 0:n.data.apellido,cbu:null===n||void 0===n?void 0:n.data.cbu,cuitCuil:null===n||void 0===n?void 0:n.data.cuitCuil}),e.next=26;break;case 23:e.prev=23,e.t1=e.catch(16),w(!0);case 26:case"end":return e.stop()}}),e,null,[[4,11],[16,23]])})));return function(t){return e.apply(this,arguments)}}(),_={name:"cuenta",type:ce.a.options,label:y.y.messages.tipoForm,options:T,onChange:q,styling:{columns:3},rules:{required:!0}},z={name:"factura",type:ce.a.file,label:y.y.fields["factura.id"],accept:"text/plain, application/pdf, image/png, image/gif, image/jpeg",styling:{columns:12},rules:{required:!0}};return Object(r.useEffect)((function(){var e=[];null!==p&&void 0!==p&&p.cbu&&e.push({label:"Cuenta propia del afiliado",value:"cuentaAfiliado"}),null!==p&&void 0!==p&&p.cuentajudicial&&"activa"==(null===p||void 0===p?void 0:p.estadoCuentaJudicial)&&e.push({label:"Cuenta judicial",value:"cuentaJudicial"}),null!==p&&void 0!==p&&p.cuentadeterceros&&"aprobada"==(null===p||void 0===p?void 0:p.estadoCuentaDeTerceros)&&e.push({label:"Cuenta de terceros",value:"cuentaDeTerceros"}),e.length<=0&&e.push({label:"Afiliado sin cuentas asociadas, debe tener al menos una cuenta para crear una solicitud",value:""}),E(e),p||O(null)}),[p,E,O]),Object(r.useEffect)((function(){var e,t;null!==o&&void 0!==o&&null!==(e=o.solicitud)&&void 0!==e&&e.cuenta&&!h&&q(null===o||void 0===o||null===(t=o.solicitud)||void 0===t?void 0:t.cuenta)}),[o,q]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(f.a,{children:[Object(n.jsx)(C.a,{variant:"h5",gutterBottom:!0,children:c.title}),Object(n.jsx)(C.a,{variant:"subtitle1",gutterBottom:!0,children:c.description})]}),Object(n.jsx)("form",{children:Object(n.jsxs)(k.a,{container:!0,spacing:2,children:[Object(n.jsx)(pe,{form:u,formContent:o,onSelect:function(e){u.setValue("solicitud.afiliado",e),j(e)}}),Object(n.jsxs)(k.a,{container:!0,item:!0,spacing:2,children:[Object(n.jsx)(k.a,{item:!0,md:3,children:Object(n.jsxs)("div",{className:A.tipoCuenta,children:[Object(n.jsx)(fe.a,{title:Object(n.jsx)(C.a,{children:y.y.messages.toolTipJudicializada}),placement:"top-start",arrow:!0,children:Object(n.jsx)(P.a,{"aria-label":"Help",className:A.tipoHelp,children:Object(n.jsx)(be.a,{})})}),Object(n.jsx)(oe.a,{field:N,form:u,data:{tipo:null===o||void 0===o||null===(a=o.solicitud)||void 0===a?void 0:a.tipo}})]})}),Object(n.jsx)(k.a,{item:!0,md:3,children:Object(n.jsx)("div",{className:A.tipoCuentaSelect,children:Object(n.jsx)(oe.a,{field:_,form:u,data:{cuenta:null===o||void 0===o||null===(i=o.solicitud)||void 0===i?void 0:i.cuenta}})})}),Object(n.jsx)(k.a,{item:!0,md:3,children:x?Object(n.jsx)("div",{className:A.afiliadoDetail,children:Object(n.jsx)(C.a,{component:"h6",color:"error",children:y.y.messages.errorAlObtenerCuenta})}):h&&Object(n.jsx)("div",{className:A.afiliadoDetail,children:Object(n.jsx)(oe.a,{form:u,field:{name:"cuentaCBU",type:ce.a.string,label:"CBU",disabled:!0},data:{cuentaCBU:h.cbu}})})})]}),[].concat(Object(b.a)(le),[z]).map((function(e,t){var a,r,i,c;return Object(n.jsx)(k.a,{item:!0,md:(null===(a=e.styling)||void 0===a?void 0:a.columns)||12,children:Object(n.jsx)(oe.a,{field:e,form:u,data:{afiliado:p,discapacitado:!1,estadoActual:"sinPagos",delegacion:(null===o||void 0===o||null===(r=o.solicitud)||void 0===r?void 0:r.delegacion)||(null===v||void 0===v||null===(i=v.delegacionPrincipal)||void 0===i?void 0:i.id),tipo:"noJudicial",fechaAlta:(new Date).toISOString(),factura:null===o||void 0===o||null===(c=o.solicitud)||void 0===c?void 0:c.factura}})},t)}))]})})]})},ve=a("kbfX"),me=a.n(ve),he=a("FrwU"),Oe=a.n(he),ye=a("TjOe"),ge=function(e){var t=e.buttons,a=e.prestaciones;return Object(n.jsx)(f.a,{children:0!==a.length&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(q.a,{component:"nav",children:a.map((function(e,a){var r=null===e||void 0===e?void 0:e.item;return Object(n.jsxs)(_.a,{children:[Object(n.jsx)(z.a,{primary:"".concat(r.codigo,"-").concat(r.descripcion," (").concat(Object(E.a)(Object(ne.a)(e.fechaPractica),y.l)," - $").concat(null===e||void 0===e?void 0:e.valorPrestacion,")")}),t.map((function(e,t){return Object(n.jsx)(ye.a,{children:Object(n.jsx)(P.a,{edge:"end","aria-label":"delete",onClick:function(){return e.action(a)},children:e.icon})},t)}))]},a)}))}),Object(n.jsx)(M.a,{})]})})},xe=a("mdm9"),we=a("/h9T"),Pe=a("9/EM"),Se=a("jIYg");function Ce(e,t){Object(Se.a)(2,arguments);var a=Object(we.a)(t);return Object(Pe.a)(e,-a)}function ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Te=function(e){var t=e.formContent,a=e.step,i=e.addPrestacion,o=e.prestaciones,c=e.removePrestacion,u=Object(X.d)(),p=u.reset,b=u.setValue,j=(u.watch,u.setError),v=u.clearErrors,m=Object(r.useState)(!0),h=m[0],O=m[1],g={capitulo:"",nomenclador:"",isDateRange:"date",fechaPractica:"",fechaPracticaHasta:"",modalidad:"",cobertura:"",estadoActual:"",prestador:"",valorIprossNomenclador:"",montoTotal:"",valorPrestacion:"",montoReintegrar:"",cantidad:"1",periodo:""},x=Object(r.useState)(g),w=x[0],P=x[1],S=ie(),T=Object(r.useState)(new Date),F=T[0],E=T[1],V=Object(r.useState)(!1),A=V[0],N=V[1],q=Object(r.useState)(null),_=q[0],z=q[1],M=Object(r.useState)([]),I=M[0],B=M[1],H=Object(r.useState)([]),R=(H[0],H[1],""),L=[{name:"capitulo",type:xe.FieldType.options,label:y.w.fields.capitulo,options:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)("api/capitulos/");case 2:return e.abrupt("return",e.sent.data.results.map((function(e){return{value:e.capitulo,label:"".concat(e.capitulo," - ").concat(e.descripcion)}})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),styling:{columns:6},rules:{required:!0},onChange:function(){var e=Object(s.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.setValue("capitulo",t),a.setValue("nomenclador",""),a.setValue("modalidad",""),a.setValue("cobertura",""),a.setValue("estadoActual",""),a.setValue("prestador",""),a.setValue("valorIprossNomenclador",""),a.setValue("montoTotal",""),a.setValue("valorPrestacion",""),a.setValue("montoReintegrar",""),a.setValue("cantidad",""),a.setValue("fechaPractica",""),a.setValue("fechaPracticaHasta",""),t.value){e.next=15;break}return e.abrupt("return");case 15:return e.next=17,Object(D.a)("/api/nomenclador/?estado=activo&size=100&capitulo="+t.value);case 17:n=e.sent.data.results,B(n);case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{name:"nomenclador",type:xe.FieldType.options,label:y.w.fields.nomenclador,options:function(){var e=Object(s.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.map((function(e){var t,a;return{value:e.id,label:"".concat(e.codigo,"-").concat(e.descripcion," (").concat(null===(t=e.capitulo)||void 0===t?void 0:t.capitulo,"-").concat(null===(a=e.capitulo)||void 0===a?void 0:a.descripcion,") - ").concat(e.fechaVigencia," ").concat(e.fechaVigenciaHasta?" / "+e.fechaVigenciaHasta:"")}})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),onChange:function(e,t){t.setValue("nomenclador",e),t.setValue("modalidad",""),t.setValue("cobertura",""),t.setValue("estadoActual",""),t.setValue("prestador",""),t.setValue("valorIprossNomenclador",""),t.setValue("montoTotal",""),t.setValue("valorPrestacion",""),t.setValue("montoReintegrar",""),t.setValue("cantidad",""),t.setValue("fechaPractica",""),t.setValue("fechaPracticaHasta","");var a=I.find((function(t){return t.id===parseInt(null===e||void 0===e?void 0:e.value)}));if(a){var n=a.fechaVigenciaHasta?Object(ne.a)(a.fechaVigenciaHasta):null;z(n),t.setValue("valorIprossNomenclador",null===a||void 0===a?void 0:a.valorIpross);var r=t.getValues().capitulo,i=0;if(40===r||41===r||43===r)i=90;else i=o.find((function(e){return 40===e.capitulo||41===e.capitulo||43===e.capitulo}))?100:"ambulatorio"===a.modalidadPrestacion?80:90;var c=parseFloat(null===a||void 0===a?void 0:a.valorIpross),l=(parseFloat(null===a||void 0===a?void 0:a.valorIpross)*(i/100)).toFixed(2);t.setValue("montoReintegrar",l,{shouldValidate:!0,shouldDirty:!0}),t.setValue("modalidad",a.modalidadPrestacion,{shouldValidate:!0,shouldDirty:!0}),t.setValue("cobertura",i,{shouldValidate:!0,shouldDirty:!0}),t.setValue("estadoActual","enCurso"),t.setValue("cantidad",1),t.setValue("montoTotal",c.toFixed(2))}},styling:{columns:12},rules:{required:!0}},{name:"isDateRange",type:xe.FieldType.options,label:"Fecha / Rango",options:y.w.optionsDate,styling:{columns:6},onChange:function(e,t){N("range"===e)}},{name:"fechaPractica",type:xe.FieldType.date,label:y.w.fields.fechaPractica,styling:{columns:6},rules:{required:!0,min:Ce(new Date,60).toString(),max:(new Date).toString()},onChange:function(e,t){E(e)}},{name:"fechaPracticaHasta",type:xe.FieldType.date,label:y.w.fields.fechaPracticaHasta,styling:{columns:6},rules:{required:A,min:F.toString(),max:_},disabled:!A},{name:"modalidad",type:xe.FieldType.options,label:y.w.fields.modalidad,options:y.v.optionsModalidadPresentacion,styling:{columns:6},rules:{required:!0},disabled:!0},{name:"cobertura",type:xe.FieldType.string,label:y.w.fields.cobertura,styling:{columns:6},rules:{required:!0},disabled:!0,prefix:Object(n.jsx)(n.Fragment,{children:"%"})},{name:"estadoActual",type:xe.FieldType.options,label:y.w.fields.estadoActual,options:y.w.optionsEstadoActual,styling:{columns:6},rules:{required:!0},disabled:!0},{name:"prestador",type:xe.FieldType.options,label:y.w.fields.prestador,options:function(){var e=Object(s.a)(l.a.mark((function e(t,a){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==R){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,Object(D.a)("api/prestadores/?profEstado=alta&matricula=".concat(R));case 4:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=8;break}e.t0=void 0===n;case 8:if(!e.t0){e.next=12;break}e.t2=void 0,e.next=13;break;case 12:e.t2=null===(r=n.data)||void 0===r?void 0:r.results.map((function(e){return{value:e.id,label:"".concat(e.matricula," - ").concat(e.nombre," ").concat(e.apellido)}}));case 13:return e.abrupt("return",e.t2);case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),onUpdate:function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),styling:{columns:6},rules:{required:!0},help:"Si no encuentra el prestador, solicite el alta al Administrador del sistema."},{name:"br",type:xe.FieldType.br,label:""},{name:"valorIprossNomenclador",type:xe.FieldType.string,label:y.w.fields.valorIprossNomenclador,styling:{columns:3},rules:{required:!0},disabled:!0,prefix:Object(n.jsx)(me.a,{})},{name:"montoTotal",type:xe.FieldType.string,label:y.w.fields.montoTotal,styling:{columns:3},rules:{min:1,required:!0},disabled:!0},{name:"valorPrestacion",type:xe.FieldType.float,label:y.w.fields.valorPrestacion,styling:{columns:3},rules:{required:!0},prefix:Object(n.jsx)(me.a,{})},{name:"montoReintegrar",type:xe.FieldType.string,label:y.w.fields.montoReintegrar,styling:{columns:3},rules:{required:!0},disabled:!0,prefix:Object(n.jsx)(me.a,{})},{name:"cantidad",type:xe.FieldType.int,label:y.w.fields.cantidad,styling:{columns:6},rules:{min:1,required:!0},onChange:function(e,t){var a=t.getValues().valorIprossNomenclador,n=a*e;t.setValue("montoTotal",n.toFixed(2));var r=t.getValues().cobertura,i=(a*e*(parseInt(r)/100)).toFixed(2);t.setValue("montoReintegrar",i)}},{name:"periodo",type:xe.FieldType.options,options:y.v.optionsPeriodoTope,label:y.w.fields.periodo,styling:{columns:6},rules:{required:!0}}];Object(r.useEffect)((function(){p(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t.two),{errors:!0})}),[]);var U=function(){var e=!0,t=[];return v(),L.map((function(a){var n;null!==a&&void 0!==a&&null!==(n=a.rules)&&void 0!==n&&n.required&&!u.getValues()[a.name]&&(t.push(a.name),j(a.name,{type:"required"}),e=!1)})),e},W=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=U();if(!t)return!1;i(),J(),O(!1),setTimeout((function(){O(e),window.scrollTo(0,150)}),5)},J=function(){for(var e in g)b(e,g[e]);P(g),N(!1),z(null),B([]),R="",p(g)};return Object(n.jsxs)(f.a,{margin:3,children:[Object(n.jsx)(ge,{prestaciones:o,buttons:[{action:c,icon:Object(n.jsx)(Oe.a,{})}]}),h&&Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(f.a,{className:S.form,children:[Object(n.jsxs)(f.a,{children:[Object(n.jsx)(C.a,{variant:"h5",gutterBottom:!0,children:a.title}),Object(n.jsx)(C.a,{variant:"subtitle1",gutterBottom:!0,children:a.description})]}),Object(n.jsx)("form",{children:Object(n.jsx)("fieldset",{children:Object(n.jsxs)(k.a,{container:!0,spacing:2,children:[L.map((function(e,t){var a;return Object(n.jsx)(k.a,{item:!0,md:(null===(a=e.styling)||void 0===a?void 0:a.columns)||12,children:Object(n.jsx)(oe.a,{field:e,form:u,data:w})},t)})),Object(n.jsxs)(k.a,{item:!0,md:12,children:[Object(n.jsx)(ee.a,{variant:"contained",color:"primary",onClick:function(){W(!0)},className:S.button,children:y.z.saveAndContinue}),Object(n.jsx)(ee.a,{variant:"contained",color:"primary",onClick:function(){W(!1)},className:S.button,children:y.z.save}),Object(n.jsx)(ee.a,{variant:"contained",color:"default",onClick:function(){J(),O(!1),window.scrollTo(0,150)},className:S.button,children:y.z.cancel})]})]})})})]})}),!h&&Object(n.jsx)(f.a,{children:Object(n.jsx)(k.a,{container:!0,spacing:2,children:Object(n.jsx)(k.a,{item:!0,md:12,children:Object(n.jsx)(ee.a,{variant:"contained",color:"primary",onClick:function(){J(),O(!0)},className:S.button,children:y.z.addPrestacion})})})})]})},Fe=a("vrJG"),Ee=a.n(Fe),Ve=[{name:"adjuntos",type:xe.FieldType.file,label:y.w.fields.adjuntos,multiple:!0,accept:"text/plain, application/pdf, image/png, image/gif, image/jpeg",styling:{columns:7},rules:{required:!0,max:5}}],Ae=a("g2RJ"),De=a.n(Ae);function Ne(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"===typeof e)return qe(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return qe(e,t)}(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var _e=function(e){var t=e.prestaciones,a=e.step,i=Object(r.useState)(null),o=i[0],c=i[1],u=Object(r.useState)(null),d=u[0],p=u[1],b=ie(),j=Object(Z.a)(),v=j.loading,m=j.isLoading,h=j.unsetLoading,O=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p(null),e.prev=1,a=new FormData,n=Ne(t.adjuntos);try{for(n.s();!(r=n.n()).done;)i=r.value,a.append("archivos",i)}catch(l){n.e(l)}finally{n.f()}return a.append("etiqueta","1"),a.append("prestacion",o),e.next=9,Object(D.f)({url:"api/archivos-adjuntos/",data:a,method:"POST",headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){m()}});case 9:200===e.sent.status&&c(null),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),p(y.n.onUpload);case 16:return e.prev=16,h(),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(f.a,{children:[Object(n.jsx)(C.a,{variant:"h5",gutterBottom:!0,children:a.title}),Object(n.jsx)(C.a,{variant:"subtitle1",gutterBottom:!0,children:a.description})]}),Object(n.jsx)(ge,{prestaciones:t,buttons:[{action:function(e){var a;c(null===(a=t[e])||void 0===a?void 0:a.id)},icon:Object(n.jsx)(Ee.a,{})}]}),o&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(xe.default,{config:Ve,data:{adjuntos:[]},onSubmit:O,submitButton:Object(n.jsx)(ee.a,{variant:"contained",color:"primary",type:"submit",endIcon:Object(n.jsx)(De.a,{}),className:b.button,children:"Subir"}),buttonsWidth:5}),Object(n.jsx)(I.a,{loading:v,message:Object(y.q)("adjuntos")}),Object(n.jsx)(U.a,{open:d||!1,severity:"error",message:d&&y.n[d]})]})]})};function ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ze(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ie=function(e){var t=e.setShowStepper,a=e.onFinished,r=Object(X.d)(),o=r.watch,c=r.errors,d=r.trigger,p=(r.setError,i.a.useState(0)),j=Object(u.a)(p,2),v=j[0],m=j[1],h=i.a.useState({}),O=Object(u.a)(h,2),g=O[0],x=O[1],w=y.z.steps.map((function(e){return e.title})),P=o(),S=i.a.useState([]),k=Object(u.a)(S,2),T=k[0],F=k[1],V=i.a.useState(null),N=Object(u.a)(V,2),q=N[0],_=N[1],z=i.a.useState(null),M=Object(u.a)(z,2),B=M[0],H=M[1],R=i.a.useState(!1),L=Object(u.a)(R,2),W=L[0],J=L[1],G=i.a.useState(null),Z=Object(u.a)(G,2),K=Z[0],te=Z[1],re=ie(),oe=function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,n,r,i,o,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.fechaPractica=Object(E.a)(null===P||void 0===P?void 0:P.fechaPractica,"yyyy-MM-dd"),null!==P&&void 0!==P&&P.fechaPracticaHasta&&(P.fechaPracticaHasta=Object(E.a)(null===P||void 0===P?void 0:P.fechaPracticaHasta,"yyyy-MM-dd")),P.cobertura=parseInt(P.cobertura),i=T,40!==P.capitulo&&41!==P.capitulo&&43!==P.capitulo||(i=i.map((function(e){return console.log({p:e}),40!==e.capitulo&&41!==e.capitulo&&43!==e.capitulo?e.cobertura=100:e.cobertura=90,e}))),o=(null===(t=P.prestador)||void 0===t?void 0:t.value)||P.prestador,e.next=8,Object(D.a)("".concat(y.x.route,"/").concat(o,"/"));case 8:if(e.t1=a=e.sent,e.t0=null===e.t1,e.t0){e.next=12;break}e.t0=void 0===a;case 12:if(!e.t0){e.next=16;break}e.t2=void 0,e.next=17;break;case 16:e.t2=a.data;case 17:return P.prestador=e.t2,c=(null===(n=P.nomenclador)||void 0===n?void 0:n.value)||P.nomenclador,e.next=21,Object(D.a)("".concat(y.v.route,"/").concat(c,"/"));case 21:s=e.sent,P.capitulo=(null===(r=P.capitulo)||void 0===r?void 0:r.value)||P.capitulo,P.nomenclador=c,F([].concat(Object(b.a)(i),[Me(Me({},P),{},{item:null===s||void 0===s?void 0:s.data})]));case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(e){F(Object(b.a)(T.filter((function(t,a){return a!==e}))))},le=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,H(null),e.next=4,d();case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:e.t0=v,e.next=0===e.t0?10:1===e.t0?14:2===e.t0?16:3===e.t0?21:23;break;case 10:return x(Me(Me({},g),{},{solicitud:P})),_(Me({},P)),t=!0,e.abrupt("break",24);case 14:return(null===T||void 0===T?void 0:T.length)>0?(x(Me(Me({},g),{},{prestaciones:T})),t=!0):H("No hay prestaciones cargadas"),e.abrupt("break",24);case 16:return x(Me(Me({},g),{},{three:P})),e.next=19,se(Me(Me({},g),{},{three:P}));case 19:return t=e.sent,e.abrupt("break",24);case 21:return t=!0,e.abrupt("break",24);case 23:return e.abrupt("return","not a valid step");case 24:t&&(window.scrollTo(0,0),m((function(e){return e+1})));case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(s.a)(l.a.mark((function e(t){var n,r,i,o,s,u,d,p,f,j;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ae.a.isEmpty(c)){e.next=26;break}return J(!0),"string"===typeof(null===t||void 0===t||null===(n=t.solicitud)||void 0===n?void 0:n.fechaAlta)?Object(ne.a)(null===t||void 0===t||null===(r=t.solicitud)||void 0===r?void 0:r.fechaAlta):null===t||void 0===t||null===(i=t.solicitud)||void 0===i?void 0:i.fechaAlta,t.solicitud.afiliado=(null===(o=t.solicitud.afiliado)||void 0===o?void 0:o.id)||t.solicitud.afiliado,t.solicitud.estadoActual="sinPagos",e.prev=5,d=T.map((function(e){var t=Me(Me({},e),{},{prestador:e.prestador.id});return delete t.item,t})),(p=new FormData).append("archivo",t.solicitud.factura[0]),p.append("etiqueta","1"),e.next=12,Object(D.f)({url:"api/facturas/",data:p,method:"POST",headers:{"Content-Type":"multipart/form-data"}});case 12:return f=e.sent,e.next=15,Object(D.c)(y.y.route,{solicitud:Me(Me({},t.solicitud),{},{factura:f.data.id}),prestaciones:d});case 15:return j=e.sent,te(null===j||void 0===j||null===(s=j.data)||void 0===s?void 0:s.id),F(Object(b.a)(null===j||void 0===j||null===(u=j.data)||void 0===u?void 0:u.prestaciones.map((function(e){return Me(Me({},e),{},{item:e.nomenclador})})))),a(),J(!1),e.abrupt("return",!0);case 23:return e.prev=23,e.t0=e.catch(5),e.abrupt("return",!1);case 26:return e.abrupt("return",!1);case 27:case"end":return e.stop()}}),e,null,[[5,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Y.a,{activeStep:v,children:w.map((function(e,t){return Object(n.jsx)(Q.a,Me(Me({},{}),{},{children:Object(n.jsx)($.a,Me(Me({},{}),{},{className:re.stepLabel,children:e}))}),e)}))}),Object(n.jsx)(f.a,{className:re.formContainer,children:v===w.length?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{style:{textAlign:"center"},children:[Object(n.jsxs)(C.a,{style:{margin:"15px 0"},children:[y.z.end," ",K]}),Object(n.jsx)(C.a,{children:y.z.end2}),Object(n.jsx)(ee.a,{style:{marginTop:35},onClick:function(){m(0),x({}),F(null),_(null),t(!1)},color:"primary",variant:"contained",children:y.z.close})]})}):Object(n.jsxs)(n.Fragment,{children:[function(e,t){switch(e){case 0:return Object(n.jsx)(je,Me(Me({},{formContent:t}),{},{step:y.z.steps[e]}));case 1:return Object(n.jsx)(Te,Me(Me({},{formContent:t}),{},{step:y.z.steps[e],addPrestacion:oe,prestaciones:T,removePrestacion:ce}));case 2:return Object(n.jsx)(A,{solicitud:q,prestaciones:T,header:!0,step:y.z.steps[e],form:g});case 3:return Object(n.jsx)(_e,{prestaciones:T,step:y.z.steps[e]});default:return"Unknown step"}}(v,g),Object(n.jsxs)(f.a,{className:re.stepperButtons,children:[Object(n.jsx)(ee.a,{onClick:function(){if(v>0)switch(m((function(e){return e-1})),v){case 1:x(Me({},g));break;case 2:x(Me(Me({},g),{},{prestaciones:P}));break;default:return"not a valid step"}else t(!1)},className:re.button,color:"secondary",variant:"contained",children:0===v?y.z.cancel:y.z.back}),Object(n.jsx)(ee.a,{variant:"contained",className:re.buttonNext,color:"primary",onClick:le,children:v===w.length-1?y.z.finish:y.z.next})]})]})}),Object(n.jsx)(I.a,{loading:W,message:"Guardando solicitud..."}),Object(n.jsx)(U.a,{open:!!B,severity:"error",message:B,autoHideAfter:5500,onClose:function(){H(null)}})]})},Be=a("fNtl"),He=[{name:"afiliado",type:ce.a.string,label:y.y.filters.afiliado,styling:{columns:12}},{name:"delegacion",type:ce.a.options,label:y.y.filters.delegacion,options:Object(F.h)(),styling:{columns:12},multiple:!0},{name:"estadoActual",type:ce.a.options,label:y.y.filters.estadoActual,options:Object(F.a)(y.y.optionsEstadoActual),styling:{columns:12}},{name:"tipo",type:ce.a.options,label:y.y.filters.judicial,options:Object(F.a)(y.y.optionsType),styling:{columns:12}},{name:"fecha_alta__gt",type:ce.a.date,label:y.y.filters.fechaDesde,styling:{columns:6}},{name:"fecha_alta__lt",type:ce.a.date,label:y.y.filters.fechaHasta,styling:{columns:6},rules:{required:!1}}];function Re(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Le=function(e){var t=e.prestacion,a=e.submit,i=e.onCancel,o=Object(r.useState)(new Date),c=o[0],u=o[1],p=Object(r.useState)("range"===t.isDateRange),b=p[0],j=p[1],v=Object(r.useState)(null),m=v[0],h=v[1],O=Object(r.useState)(!1),g=O[0],x=O[1],w=Object(r.useState)({prestaciones:[]}),P=(w[0],w[1]),S=Object(r.useState)({}),C=(S[0],S[1]),k=[],T=[{name:"capitulo",type:xe.FieldType.options,label:y.w.fields.capitulo,options:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{value:t.capitulo.value,label:t.capitulo.label}]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),styling:{columns:6},rules:{required:!0},disabled:!0},{name:"nomenclador",type:xe.FieldType.options,label:y.w.fields.nomenclador,options:function(){var e=Object(s.a)(l.a.mark((function e(a,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{value:t.nomenclador.value,label:t.nomenclador.label}]);case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),styling:{columns:12},rules:{required:!0},disabled:!0},{name:"isDateRange",type:xe.FieldType.options,label:"Fecha / Rango",options:y.w.optionsDate,styling:{columns:6},onChange:function(e,t){j("range"===e)}},{name:"fechaPractica",type:xe.FieldType.date,label:y.w.fields.fechaPractica,styling:{columns:6},rules:{required:!0,min:Ce(new Date,60).toString(),max:(new Date).toString()},onChange:function(e,t){u(e)}},{name:"fechaPracticaHasta",type:xe.FieldType.date,label:y.w.fields.fechaPracticaHasta,styling:{columns:6},rules:{required:!0,min:c.toString(),max:m},disabled:!b},{name:"modalidad",type:xe.FieldType.options,label:y.w.fields.modalidad,options:y.v.optionsModalidadPresentacion,styling:{columns:6},rules:{required:!0},disabled:!0},{name:"cobertura",type:xe.FieldType.string,label:y.w.fields.cobertura,styling:{columns:6},rules:{required:!0},disabled:!0,prefix:Object(n.jsx)(n.Fragment,{children:"%"})},{name:"estadoActual",type:xe.FieldType.options,label:y.w.fields.estadoActual,options:y.w.optionsEstadoActual,styling:{columns:6},rules:{required:!0},disabled:!0},{name:"prestador",type:xe.FieldType.options,label:y.w.fields.prestador,options:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onUpdate:function(){var e=Object(s.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=3;break}return k=[],e.abrupt("return");case 3:return e.next=5,Object(D.a)("api/prestadores/?profEstado=alta&matricula=".concat(t));case 5:k=e.sent.data.results.map((function(e){return{value:e.id,label:"".concat(e.matricula," - ").concat(e.nombre," ").concat(e.apellido)}}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),styling:{columns:6},rules:{required:!0},help:"Si no encuentra el prestador, solicite el alta al Administrador del sistema."},{name:"br",type:xe.FieldType.br,label:""},{name:"valorIprossNomenclador",type:xe.FieldType.string,label:y.w.fields.valorIprossNomenclador,styling:{columns:3},rules:{required:!0},disabled:!0,prefix:Object(n.jsx)(me.a,{})},{name:"montoTotal",type:xe.FieldType.string,label:y.w.fields.montoTotal,styling:{columns:3},rules:{min:1,required:!0},disabled:!0},{name:"valorPrestacion",type:xe.FieldType.float,label:y.w.fields.valorPrestacion,styling:{columns:3},rules:{required:!0},prefix:Object(n.jsx)(me.a,{})},{name:"montoReintegrar",type:xe.FieldType.string,label:y.w.fields.montoReintegrar,styling:{columns:3},rules:{required:!0},disabled:!0,prefix:Object(n.jsx)(me.a,{})},{name:"cantidad",type:xe.FieldType.int,label:y.w.fields.cantidad,styling:{columns:6},rules:{min:1,required:!0},onChange:function(e,t){var a=t.getValues().valorIprossNomenclador,n=a*e;t.setValue("montoTotal",n.toFixed(2));var r=t.getValues().cobertura,i=(a*e*(parseInt(r)/100)).toFixed(2);t.setValue("montoReintegrar",i)}},{name:"periodo",type:xe.FieldType.options,options:y.v.optionsPeriodoTope,label:y.w.fields.periodo,styling:{columns:6},rules:{required:!0}}],F=function(){i()};return Object(r.useEffect)((function(){console.log({prestacion:t}),g||(Object(D.a)("api/solicitudes/".concat(t.solicitud.id)).then((function(e){P(e.data)})),Object(D.a)("api/nomenclador/".concat(t.nomenclador.value)).then((function(e){var t,a;C(null===e||void 0===e?void 0:e.data),h(null!==e&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.fechaVigenciaHasta?Object(ne.a)(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.fechaVigenciaHasta):null),console.log({nomenclador:e.data})})),x(!0))}),[t]),Object(n.jsx)(f.a,{margin:3,children:Object(n.jsx)(xe.default,{config:T,data:t,onSubmit:function(e){a(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Re(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:t.id},e))},onCancel:function(){F()}})})};function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function We(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(a),!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Je(){var e,t=Object(F.g)(),a={page:1,size:20,delegacion:[Object(F.m)()?"":(null===t||void 0===t||null===(e=t.delegacionPrincipal)||void 0===e?void 0:e.id)||""],fecha_alta__gt:"",fecha_alta__lt:""},o=Object(r.useState)(We({},a)),c=o[0],d=o[1],b=Object(r.useState)(Object(F.r)(c)),j=b[0],v=b[1],m=Object(p.b)("".concat(y.y.route,"/?")+j),h=m.data,O=m.error,g=m.mutate,x=Object(r.useState)(O),w=x[0],P=x[1],S=Object(r.useState)(null),C=S[0],k=S[1],T=i.a.useState(!1),V=Object(u.a)(T,2),A=V[0],q=V[1],_=Object(X.c)({mode:"onBlur"}),z=Object(Z.a)(),M=z.isLoading,I=z.unsetLoading,B=Object(K.a)(),H=B.addAlert,R=B.removeAlert,L=Object(r.useState)(!1),W=L[0],J=L[1],Y=Object(r.useState)(null),Q=Y[0],$=Y[1],ee=Object(r.useState)(!1),te=ee[0],ae=ee[1];Object(r.useEffect)((function(){h?(I(),w?H(w,"error"):R()):O?(I(),H(y.n.onGet(y.y.name),"error")):M()}),[h,O,w]);var re=function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(D.e)("".concat(y.y.route),t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),P(y.n.onDeactivate(y.y.name));case 8:g("".concat(y.y.route,"?")+j);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n,r,i,o,c,s,u,d,p,f,b,j,v,m,h,O,g,x,w,P,S,C;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.auditoria){e.next=3;break}return H(y.n.onAlreadyAudited(),"error"),e.abrupt("return",!1);case 3:x=null===(a=t.nomenclador)||void 0===a?void 0:a.valorIpross,w=x*t.cantidad,P=t.cobertura,S=(w*parseFloat(P)/100).toFixed(2),C=We(We({},t),{},{capitulo:{label:null===(n=t.nomenclador)||void 0===n||null===(r=n.capitulo)||void 0===r?void 0:r.descripcion,value:null===(i=t.nomenclador)||void 0===i||null===(o=i.capitulo)||void 0===o?void 0:o.capitulo},nomenclador:{label:"".concat(null===(c=t.nomenclador)||void 0===c?void 0:c.codigo,"-").concat(null===(s=t.nomenclador)||void 0===s?void 0:s.descripcion," (").concat(null===(u=t.nomenclador)||void 0===u||null===(d=u.capitulo)||void 0===d?void 0:d.capitulo,"-").concat(null===(p=t.nomenclador)||void 0===p||null===(f=p.capitulo)||void 0===f?void 0:f.descripcion,")"),value:null===(b=t.nomenclador)||void 0===b?void 0:b.id},prestador:{label:"".concat(null===(j=t.prestador)||void 0===j?void 0:j.matricula," - ").concat(null===(v=t.prestador)||void 0===v?void 0:v.nombre," ").concat(null===(m=t.prestador)||void 0===m?void 0:m.apellido),value:null===(h=t.prestador)||void 0===h?void 0:h.id},modalidad:null===(O=t.nomenclador)||void 0===O?void 0:O.modalidadPrestacion,valorIprossNomenclador:null===(g=t.nomenclador)||void 0===g?void 0:g.valorIpross,montoReintegrar:S,montoTotal:w.toFixed(2),fechaPractica:Object(F.s)(t.fechaPractica).toISOString(),estadoActual:t.estadoActual||"enCurso",periodo:t.periodo}),t.fechaPractica&&t.fechaPracticaHasta?C.isDateRange="range":C.isDateRange="date",$(C),ae(!0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,n,r,i,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=We(We({},t),{},{nomenclador:null!==(a=t.nomenclador)&&void 0!==a&&a.value?null===(n=t.nomenclador)||void 0===n?void 0:n.value:t.nomenclador,prestador:null!==(r=t.prestador)&&void 0!==r&&r.value?null===(i=t.prestador)||void 0===i?void 0:i.value:t.prestador,solicitud:null===(o=t.solicitud)||void 0===o?void 0:o.id}),null!==t&&void 0!==t&&t.fechaPractica&&"string"===typeof(null===t||void 0===t?void 0:t.fechaPractica)&&(t.fechaPractica=Object(ne.a)(t.fechaPractica)),c.fechaPractica=Object(E.a)(null===t||void 0===t?void 0:t.fechaPractica,"yyyy-MM-dd"),null!==t&&void 0!==t&&t.fechaPracticaHasta&&("string"===typeof(null===t||void 0===t?void 0:t.fechaPracticaHasta)&&(t.fechaPracticaHasta=Object(ne.a)(t.fechaPracticaHasta)),c.fechaPracticaHasta=Object(E.a)(null===t||void 0===t?void 0:t.fechaPracticaHasta,"yyyy-MM-dd")),e.prev=4,null===t||void 0===t||!t.id){e.next=8;break}return e.next=8,Object(D.d)(y.w.route,We({},c),t.id);case 8:P(null),$(null),k(y.y.messages.successEditPrestacion),g(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),null!==t&&void 0!==t&&t.id&&P("onEdit");case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){v(Object(F.r)(c))}),[c]);var ce=function(){var e=Object(s.a)(l.a.mark((function e(t,a){var n,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.a)("".concat(y.y.route,"/?")+Object(F.r)(We(We({},c),{},{size:h.count||1e4})));case 2:if(e.t1=n=e.sent,e.t0=null===e.t1,e.t0){e.next=6;break}e.t0=void 0===n;case 6:if(!e.t0){e.next=10;break}e.t2=void 0,e.next=11;break;case 10:e.t2=null===(r=n.data)||void 0===r?void 0:r.results;case 11:i=e.t2,Object(F.c)("Solicitudes",t,i);case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),le=function(){$(null),ae(!1)};return Object(n.jsxs)(f.a,{style:{position:"relative"},children:[A&&Object(n.jsx)(X.b,We(We({},_),{},{children:Object(n.jsx)(Ie,{setShowStepper:q,onFinished:function(){g("".concat(y.y.route,"?").concat(j))}})})),Q&&Object(n.jsx)(N.a,{customClasses:{},open:te,onClose:le,title:y.y.modalEditPrestacion.mainTitle,breadcrumbs:"",maxWidth:"md",children:Object(n.jsx)(Le,{prestacion:Q,submit:oe,onCancel:le})}),Object(n.jsx)(G,{data:h,handleDelete:re,onEdit:function(){},onShowStepper:function(){window.scrollTo(0,0),q(!0)},onPaginationChange:function(e){d(We(We({},c),{},{page:e.page,size:e.pageSize}))},onFilter:function(){J(!0)},onEditPrestacion:function(e){ie(e)},onExport:ce}),Object(n.jsx)(Be.a,{config:He,data:c,onSubmit:function(e){e.fecha_alta__gt?e.fecha_alta__gt=Object(F.d)(e.fecha_alta__gt):delete e.fecha_alta__gt,e.fecha_alta__lt?e.fecha_alta__lt=Object(F.d)(Object(Pe.a)(e.fecha_alta__lt,1)):delete e.fecha_alta__lt,d(We(We({},a),e)),J(!1)},onCancel:function(){d(We({},a))},onClose:function(){J(!1)},show:W}),Object(n.jsx)(U.a,{open:w||C,severity:C?"success":"error",message:C||(w?y.n[w](y.y.name):y.n.onGet(y.y.name)),autoHideAfter:5500,onClose:function(){P(null),k(null)}})]})}function Ge(){return Object(n.jsx)(o.a,{children:Object(n.jsx)(Je,{})})}},fNtl:function(e,t,a){"use strict";var n=a("nKUr"),r=(a("q1tI"),a("R/WZ")),i=a("tRbT"),o=a("Z3vd"),c=a("mdm9"),l=a("DPVN"),s=Object(r.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},filtersForm:{position:"absolute",width:"424px",zIndex:100,top:55,right:20,"& .MuiFormLabel-root.Mui-error":{color:"initial"},"& .MuiInput-underline:after":{display:"none"},"& form":{backgroundColor:"#EDEFFF",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",borderRadius:0}},closeBtn:{position:"absolute",top:10,right:10}}}));t.a=function(e){var t=e.config,a=e.options,r=e.data,u=e.onSubmit,d=e.onCancel,p=e.show,f=e.onClose,b=s();if(a){var j=function(e){var n=t.find((function(t){return t.name===e}));n&&(n.options=a[e])};for(var v in a)j(v)}return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(i.a,{item:!0,md:12,className:b.filtersForm,style:{visibility:p?"visible":"hidden"},children:[Object(n.jsx)(o.a,{onClick:function(){f&&f()},className:b.closeBtn,children:"X"}),Object(n.jsx)(c.default,{title:l.B.title,config:t,data:r,onSubmit:function(e){u&&u(e)},onCancel:function(){d&&d()},cancelText:"Limpar"})]})})}},g2RJ:function(e,t,a){"use strict";var n=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("q1tI")),o=(0,n(a("8/g6")).default)(i.createElement("path",{d:"M5 4v2h14V4H5zm0 10h4v6h6v-6h4l-7-7-7 7z"}),"Publish");t.default=o},kbfX:function(e,t,a){"use strict";var n=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("q1tI")),o=(0,n(a("8/g6")).default)(i.createElement("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4z"}),"AttachMoneyOutlined");t.default=o},mdm9:function(e,t,a){"use strict";var n=a("HarB"),r=a("+fqU");a.o(r,"FieldType")&&a.d(t,"FieldType",(function(){return r.FieldType}));var i=a("cTyz");a.d(t,"FieldType",(function(){return i.a}));a("rwSu");t.default=n.a},pDuH:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/solicitudes",function(){return a("dRS1")}])},rwSu:function(e,t){},s0P7:function(e,t,a){"use strict";var n=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("q1tI")),o=(0,n(a("8/g6")).default)(i.createElement("path",{d:"M18 17H6v-2h12v2zm0-4H6v-2h12v2zm0-4H6V7h12v2zM3 22l1.5-1.5L6 22l1.5-1.5L9 22l1.5-1.5L12 22l1.5-1.5L15 22l1.5-1.5L18 22l1.5-1.5L21 22V2l-1.5 1.5L18 2l-1.5 1.5L15 2l-1.5 1.5L12 2l-1.5 1.5L9 2 7.5 3.5 6 2 4.5 3.5 3 2v20z"}),"Receipt");t.default=o},uXqp:function(e,t,a){"use strict";var n=a("nKUr"),r=(a("q1tI"),a("kfFl")),i=a("EQI2"),o=a("+JwS"),c=a("R/WZ"),l=a("ZBNC"),s=Object(c.a)((function(e){return Object(l.a)({root:{margin:0,padding:e.spacing(2)},title:{color:e.palette.secondary.dark,padding:e.spacing(4,1)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},content:{padding:e.spacing(4,2),width:"calc(100% - 32px)",margin:"0 auto"},breadcrumbs:{fontWeight:"lighter",marginBottom:e.spacing(4)},dialogTitle:{width:"100%"}})})),u=a("yv+Y"),d=a("Z3vd");t.a=function(e){var t=e.children,a=e.open,c=e.onClose,l=e.title,p=(e.breadcrumbs,e.customClasses),f=void 0===p?null:p,b=e.subTitle,j=void 0===b?null:b,v=e.actions,m=void 0!==v&&v,h=e.onAcept,O=e.onCancel,y=e.maxWidth;return s(),Object(n.jsxs)(r.a,{classes:f||null,onClose:c,"aria-labelledby":"customized-dialog-title",open:a,fullWidth:!0,maxWidth:y,children:[Object(n.jsxs)(u.a,{children:[l,j]}),Object(n.jsx)(i.a,{dividers:!0,children:t}),m&&Object(n.jsxs)(o.a,{children:[Object(n.jsx)(d.a,{onClick:O,color:"secondary",variant:"contained",children:"Cancelar"}),Object(n.jsx)(d.a,{onClick:h,color:"primary",variant:"contained",children:"Aceptar"})]})]})}},vrJG:function(e,t,a){"use strict";var n=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a("q1tI")),o=(0,n(a("8/g6")).default)(i.createElement("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile");t.default=o},xvhg:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("8rE2");function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(l){r=!0,i=l}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return a}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}}},[["pDuH",0,2,8,7,11,1,3,4,5,9,6,10]]]);