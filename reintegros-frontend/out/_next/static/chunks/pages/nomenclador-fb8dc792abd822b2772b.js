_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[25],{"+fqU":function(e,t){},FEZc:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return E}));var r=n("nKUr"),o=n("q1tI"),i=n("mAZ4"),a=n("vJKn"),c=n.n(a),u=n("rg98"),l=n("cpVT"),s=n("hlFM"),p=n("VtrM"),d=n("5AJ6"),f=Object(d.a)(o.createElement("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Sync"),b=n("DPVN"),j=n("rIeG"),O=n("EAZb");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e){var t=e.data,n=e.onSync,i=e.onPaginationChange,a=e.onFilter,c=Object.keys(b.v.cols).map((function(e){var t;return{title:b.v.cols[e],field:e,render:null!==(t=b.v.renders[e])&&void 0!==t?t:null}})),u=Object(o.useState)({page:1,pageSize:20}),l=u[0],s=u[1],p=function(e){s(e),i(g(g({},l),e))};return Object(r.jsx)(j.default,{columns:c,totalCount:null===t||void 0===t?void 0:t.count,data:null===t||void 0===t?void 0:t.results,title:b.v.name,headerActions:function(){var e=[];return Object(O.i)()&&(e=[{label:b.v.importPrestaciones,onClick:n,icon:Object(r.jsx)(f,{})}]),e}(),options:{search:!1},pagination:{page:l.page-1,pageSize:l.pageSize},onPageChange:function(e,t){p(g(g({},l),{},{page:e+1,pageSize:t}))},onChangeRowsPerPage:function(e){p(g(g({},l),{},{pageSize:e}))},onFilterClick:a})}var y=n("G633"),h=n("//uY"),w=n("wnzQ"),P=n("fNtl"),x=n("cTyz"),S=[{name:"descripcion",type:x.a.string,label:b.v.filters.descripcion,styling:{columns:12}},{name:"capitulo",type:x.a.options,label:b.v.filters.capitulo,options:[],styling:{columns:12},multiple:!0},{name:"modalidadPrestacion",type:x.a.options,label:b.v.filters.modalidad,options:function(){var e=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",b.v.optionsModalidadPresentacion);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),styling:{columns:12}},{name:"requiereAuditoriaMedica",type:x.a.options,label:b.v.filters.requiereAuditoriaMedica,options:[{value:"",label:"Todas"},{value:"true",label:"Si"},{value:"false",label:"No"}],styling:{columns:12}}];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(){var e,t,n={page:1,size:20,capitulo:[],modalidadPrestacion:""},i=Object(o.useState)(z({},n)),a=i[0],l=i[1],d=Object(o.useState)(Object(O.r)(a)),f=d[0],j=d[1],v=Object(p.b)("".concat(b.v.route,"/?")+f),g=v.data,x=v.error,F=v.mutate,C=Object(p.b)("".concat(b.g.route,"/")),E=C.data,N=(C.error,Object(o.useState)(null)),T=N[0],k=N[1],_=Object(o.useState)(null),q=_[0],D=_[1],M=Object(o.useState)(!1),A=M[0],U=M[1],R=function(){var e=Object(u.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(y.a)("".concat(b.v.route,"/sync")).then((function(e){F()}));case 3:D("Nomenclador actualizado correctamente"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),k("onUpdateNomenclador");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){j(Object(O.r)(a))}),[a]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(s.a,{p:2,m:1,style:{position:"relative"},children:[Object(r.jsxs)("small",{style:{position:"absolute",right:0,top:"-25px"},children:["Ultima actualizaci\xf3n: ",null===g||void 0===g||null===(e=g.results[0])||void 0===e?void 0:e.lastUpdate]}),Object(r.jsx)(m,{data:g,onSync:R,onPaginationChange:function(e){l(z(z({},a),{},{page:e.page,size:e.pageSize}))},onFilter:function(){U(!A)}}),Object(r.jsx)(P.a,{config:S,data:a,onSubmit:function(e){var t=z(z({},n),e);!1===e.requiereAuditoriaMedica&&delete t.requiereAuditoriaMedica,l(t),U(!1)},onCancel:function(){l(z({},n))},onClose:function(){U(!1)},show:A,options:{capitulo:(null===E||void 0===E||null===(t=E.results)||void 0===t?void 0:t.map((function(e){return{value:e.capitulo,label:e.capitulo+" - "+e.descripcion}})))||[]}})]}),Object(r.jsx)(h.a,{loading:!g,message:Object(b.q)(b.v.name)}),Object(r.jsx)(w.a,{open:x||T||q,severity:q?"success":"error",message:q||(T?b.n[T](b.v.name):b.n.onGet(b.v.name)),autoHideAfter:5500,onClose:function(){k(null),D(null)}})]})}function E(){return Object(r.jsx)(i.a,{children:Object(r.jsx)(C,{})})}},fNtl:function(e,t,n){"use strict";var r=n("nKUr"),o=(n("q1tI"),n("R/WZ")),i=n("tRbT"),a=n("Z3vd"),c=n("mdm9"),u=n("DPVN"),l=Object(o.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},filtersForm:{position:"absolute",width:"424px",zIndex:100,top:55,right:20,"& .MuiFormLabel-root.Mui-error":{color:"initial"},"& .MuiInput-underline:after":{display:"none"},"& form":{backgroundColor:"#EDEFFF",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)",borderRadius:0}},closeBtn:{position:"absolute",top:10,right:10}}}));t.a=function(e){var t=e.config,n=e.options,o=e.data,s=e.onSubmit,p=e.onCancel,d=e.show,f=e.onClose,b=l();if(n){var j=function(e){var r=t.find((function(t){return t.name===e}));r&&(r.options=n[e])};for(var O in n)j(O)}return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(i.a,{item:!0,md:12,className:b.filtersForm,style:{visibility:d?"visible":"hidden"},children:[Object(r.jsx)(a.a,{onClick:function(){f&&f()},className:b.closeBtn,children:"X"}),Object(r.jsx)(c.default,{title:u.B.title,config:t,data:o,onSubmit:function(e){s&&s(e)},onCancel:function(){p&&p()},cancelText:"Limpar"})]})})}},mdm9:function(e,t,n){"use strict";var r=n("HarB"),o=n("+fqU");n.o(o,"FieldType")&&n.d(t,"FieldType",(function(){return o.FieldType}));var i=n("cTyz");n.d(t,"FieldType",(function(){return i.a}));n("rwSu");t.default=r.a},qefG:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/nomenclador",function(){return n("FEZc")}])},rwSu:function(e,t){}},[["qefG",0,2,8,7,1,3,4,5,9,6,10]]]);